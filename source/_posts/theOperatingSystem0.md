---
title: 操作系统期末考试——0
excerpt: 本文涉及到操作系统引论、进程管理
categories:
- 考试
tags:
- 操作系统
- 考试
---

## 操作系统引论

### 操作系统定义

是管理计算机硬件和软件资源的计算机程序，同时也是计算机系统的内核与基石

### 操作系统作用

- OS作为用户与计算机硬件系统之间的接口
- OS作为计算机系统资源的管理者
- OS实现了对计算机资源的抽象

### 分时系统的原理与特征

**原理**
- 人机交互
- 共享主机
- 一台主机上链接了多个配有显示器和键盘的终端并由此组成的系统，该系统允许多个用户同时通过自己的终端，以交互方式使用计算机，共享主机中的资源

**特征**
- 多路性
- 独立性
- 及时性
- 交互性

### 脱机I/O原理

事先将装有用户程序和数据的纸带装入纸带输入机，在一台外围机的控制下，把纸带上的数据输入到磁带上，当CPU需要这些程序和数据时，再从磁带上高速地调入内存。
当CPU需要输出时，可由CPU把数据直接从内存高速的输送到磁带上，然后在另一台外围机的控制下，再将磁带上的结果通过相应的输出设备输出。
由于程序和数据的输入输出都是在外围机的控制下完成的，或者说他们是在脱离主机的情况下进行的，故称脱机IO。
其优点是：减少CPU空闲时间，提高IO速度。

### 操作系统的基本特征

- 并发
- 共享
- 虚拟
- 异步

![图0](https://api2.mubu.com/v3/document_image/80ab4df3-d66d-4ec7-96c3-91ca778e5192-3807603.jpg)

### 作业

31页：2，3，5，8,  11， 14

## 进程管理

### 程序顺序执行时的特征
- 顺序性
- 封闭性
- 可再现性

### 程序并发执行时的特征
- 间断性
- 失去封闭性
- 不可再现性

### 为什么引入进程
实现程序并发执行

### 进程定义
进程是程序的一次执行。

进程是一个程序及其数据在处理机上顺序执行时所发生的活动。

进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位。

进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位。

### 进程特征

**动态性**
- 进程描述执行的程序
- 是动态的
- 具有生命周期

**并发性**
- 引入进程就是为了保证程序并发执行

**独立性**
- 进程是OS资源分配和调度的一个独立单位
- OS以进程为单位分配处理机、内存、I/O设备

**异步性**
- 指进程按各自独立的、不可预知的速度向前推进
- “走走停停”
- 原因：共享资源，进程之间相互影响

### 进程的基本状态、相互转换原因及转换图（三态）

![图1](https://api2.mubu.com/v3/document_image/accde508-2e30-4b6c-958e-bcb0346f7787-3807603.jpg)

### 系统态（核心态）和用户态
**系统态（内核态）**：具有较高的特权，能执行一切指令，访问所有的寄存器和存储区。OS在内核态运行。
**用户态**：具有较低特权的执行状态，仅能执行规定的指令，访问指定的寄存器和存储区。应用程序在用户态运行。

### 具有挂起状态的进程状态、相互转换原因及其转换图（五态）

**什么是挂起状态**
挂起：暂停程序的执行，进程处于“静止” 状态

**引入挂起状态的原因**
- 终端用户请求。
- 父进程请求。
- 负荷调节需要。
- 操作系统需要。

![图2](https://api2.mubu.com/v3/document_image/bc01d049-4e31-4f73-8a15-19ffae4d216e-3807603.jpg)

### 具有创建终止状态的进程状态、相互转换原因及其转换图（七态）

![图3](https://api2.mubu.com/v3/document_image/90889247-1847-479f-b9c5-b2db9aa46159-3807603.jpg)

### 什么是进程控制块？进程控制块的作用
为了便于系统描述和管理进程的运行，OS为每个进程定义了数据结构，即进程控制块。

**作用**
- 进程控制块是描述进程的数据结构。
- 进程与PCB是一一对应的
- OS根据PCB控制和管理进程。

### 临界资源与临界区区别
**临界区**：进程中访问临界资源的那段代码
**临界资源**：一段时间内只允许一个进程访问的资源

### 同步机制应遵循的规则
- 空闲让进： （临界资源）空闲让（进程）进（入临界区）。
- 忙则等待： （临界资源）忙（进程）则等待（进入临界区）。
- 有限等待： （进程）等待有限（时间进入临界区） 。
- 让权等待： （进程）让（处理器）权等待（进入临界区）。

### 记录型信号量的定义
记录型信号量是一种不存在“忙等”现象的进程同步机制。

### 信号量正负值的物理意义

S-> value初值表示系统中某类资源的数目。

当S->value >0时，其值表示系统中某类资源当前可用数目

当S->value <0时，其绝对值 | S->value | 表示在该信号量链表中已阻塞进程的数目。

如果S->value的初值为1，资源的数目为1，表示只允许一个进程访问临界资源，此时的信号量即互斥信号量。

### wait 和 signal 操作
**wait操作**
- 每次wait操作表示进程请求一个单位的该类资源：
- S->value = S->value -1；
- 当S->value＜0时，表示该类资源已分配完毕，因此进程应调用block原语，进行自我阻塞，放弃处理机，并插入到信号量链表S->list中。
- 因此记录型机制遵循了“让权等待”准则。

**signal操作**
- 对信号量的每次signal操作，表示执行进程释放一个单位资源，
- S->value = S->value +1操作表示资源数目加1。
- 若加1后仍是S->value ≤0，则表示在该信号量链表中，仍有等待该资源的进程被阻塞，故还应调用wakeup原语，将S->list链表中的第一个等待进程唤醒。
- 被唤醒的进程由阻塞状态转变为就绪状态

### AND 型信号量的定义，Swait 和 Ssignal 操作
AND同步机制的基本思想：同时申请，同时释放
Swait操作

![swait](https://api2.mubu.com/v3/document_image/ede87dd8-b6db-45e6-b15d-1a354578d510-3807603.jpg)

Ssignal操作

![ssignal](https://api2.mubu.com/v3/document_image/5a6d993c-2a83-4d49-b302-eff86e0f4b31-3807603.jpg)

### 生产者－消费者问题算法

#### 方法1

![t0](https://api2.mubu.com/v3/document_image/a676eab5-09fb-4d4d-bacf-64babfcfa679-3807603.jpg)

![t1](https://api2.mubu.com/v3/document_image/a4953d14-5dcd-4326-9281-f8fba318b09c-3807603.jpg)

#### 方法2

![t2](https://api2.mubu.com/v3/document_image/edc065a7-e63e-41af-94ae-c9ead4748a98-3807603.jpg)

#### 方法3
用信号量机制实现

![t3](https://api2.mubu.com/v3/document_image/275f4591-cccc-4443-997f-8519bbab0180-3807603.jpg)

### 不会死锁的哲学家就餐问题算法

#### 方法1

![t4](https://api2.mubu.com/v3/document_image/f9e2b0ca-895d-45a1-8c53-8f092ec850c9-3807603.jpg)

#### 方法2
奇数动手算法

![t5](https://api2.mubu.com/v3/document_image/dadfbd6a-bc8f-4ca9-826d-3c8662e90779-3807603.jpg)

![t6](https://api2.mubu.com/v3/document_image/7e920ff7-16ea-40e9-b86d-c1b63e3c605e-3807603.jpg)

#### 方法3
用信号量机制实现

![t7](https://api2.mubu.com/v3/document_image/b7f27e16-ee81-4453-bed2-eb1c8a5dd16b-3807603.jpg)

### 读者－写者问题算法

#### 方法1
ps:代码有问题

![t8](https://api2.mubu.com/v3/document_image/84467293-702f-48d5-9b26-b7fe813563dd-3807603.jpg)

说明：
- 设置一个整型变量readcount表示正在读的进程数目。
- 只要有一个Reader进程在读，便不允许Writer进程去写。
- 仅当readcount=0, 表示尚无Reader进程在读时，Reader进程才需要执行Wait(Wmutex)操作。
- 若wait(Wmutex)操作成功，Reader进程便可去读，相应地，做readcount+1操作。
- 仅当Reader进程在执行了readcount减1操作后其值为0时，才须执行signal(Wmutex)操作，以便让Writer进程写。

#### 方法2
ps:代码没问题

![t9](https://api2.mubu.com/v3/document_image/d44eddcc-781a-4865-a5d5-ce73ac528bc7-3807603.jpg)

![t10](https://api2.mubu.com/v3/document_image/d1d71d37-82fb-4932-a013-f9a7ad80ea81-3807603.jpg)

![t11](https://api2.mubu.com/v3/document_image/034e0ec2-90b5-418e-bc81-841ca917e56a-3807603.jpg)

### 公交车算法

#### 方法1

![t12](https://api2.mubu.com/v3/document_image/38a408a2-c802-4c59-9ee8-4deff6774b2b-3807603.jpg)

### 高级进程通信
利用操作系统所提供的一组通信命令，高效地传送大量数据的通信方式。
一共有三种类型：

![t13](https://api2.mubu.com/v3/document_image/cecff76a-0cbe-4259-84a1-b5bc4ef17dcb-3807603.jpg)

### 消息传递通信的两种通信方式
直接通信（消息缓冲队列通信机制）
间接通信（信箱通信）

### 消息缓冲队列通信属于什么通信
是一种直接消息传递系统

### 线程定义及属性 
有时称轻量级进程，是进程中的一个运行实例，是CPU调度单位。
在一个进程中，可以独立运行的程序片段叫作“线程”

### 线程和进程区别
1、调度性
2、并发性
3、拥有资源
4、独立性
5、系统开销
6、支持多处理机系统

### 多线程 OS 中的进程的作用
进程作为系统资源分配的单位。
一个进程拥有多个线程。
进程不是一个可执行的实体，而是一个资源的载体。
 
### 前趋图及代码
图片

![t14](https://api2.mubu.com/v3/document_image/e71a747a-d4ab-4ebd-9010-d71044127597-3807603.jpg)

代码

![t15](https://api2.mubu.com/v3/document_image/e2261d1c-35d1-413b-930b-0ee868d4bf81-3807603.jpg)

![t16](https://api2.mubu.com/v3/document_image/35210c61-3329-4ccd-a020-316a39beb1a2-3807603.jpg)