---
title: 伤害乘区论
excerpt: 还是泥潭的老哥写的文章，泥潭的老哥是真强
date: 2022-10-21
categories:
- 游戏
tags:
- 原神
---

## 单次攻击伤害及乘区
下述伤害的计算暂时抛开碰撞伤害和剧变反应伤害，也暂时不考虑秒均伤害的计算。
对于单次攻击的伤害，假设其触发暴击和增幅反应，其一般的公式为：
伤害=攻击力*伤害倍率*(1+伤害加成)*(1+暴击伤害)*增幅反应倍率*防御减免*抗性减免
假设其触发暴击和激化反应，其一般的公式为：
伤害=(攻击力*伤害倍率+激化反应加成值)*(1+伤害加成)*(1+暴击伤害)*防御减免*抗性减免
我做了一个伤害计算的大致流程图方便理解。

![]()

上述暴击伤害和反应倍率，如果没有触发暴击和增幅反应、激化反应，当然没有此乘区。
如果我们对上述进行简写，会得到一个简单理解的公式。
伤害=攻击区*倍率区*增伤区*暴击区*反应区*防御区*抗性区
Damage=A区 * M区 * B区 * C区 * E区 * D区 * R区
攻击区= A = Attack
倍率区= M = Damage Multipiler
增伤区= B = Damage Bonus
暴击区= C = Critical Bracket
反应区= E = Elemental Reaction
防御区= D = Defense
抗性区= R = Resistance

## 单次伤害各乘区概述
在阅读这一部分攻略前，还是想重申一次上边的话。碍于文章硬核程度，本文难以从简至繁书写结论。如果只是想简单了解基础数值系统，建议只阅读攻击区/增伤区/暴击区即可，其他的部分因为游戏中出现较少，基本可以认为是高收益又难稀释的乘区。同时因为元素反应区涉及很多数据和增幅剧变两种反应，放到下一章节进行说明。

### 攻击区 A (Attack)
![]()

先规定几个缩写，便于缩减字数。
人攻=人物攻击力，武攻=武器攻击力
百攻=百分比攻击力，固攻=固定攻击力
攻击力计算公式为：
总攻击力=白字+绿字=(人攻+武攻)×(1+百攻之和)+固攻之和
基础攻击力=白字=人物攻击力+武器攻击力
额外攻击力=绿字=基础攻击力×百攻之和+固攻之和
上述“额外攻击力“受到一切出现此描述的数值加成的影响，包括受到角色突破加成，角色天赋，角色命座，武器副词条，武器特效，圣遗物主词条，圣遗物副词条，圣遗物套装效果影响等。“额外攻击力”效果包括百分比攻击力和固定攻击力，在自身乘区里全为加算。
除受人物等级和携带武器的影响之外，人物的基础攻击力(白字)无法变动也无法提升(食物效果论外)。一些武器的被动(磐岩结绿系列)，被动是按最大生命值百分比加攻击力，还有诺艾尔元素爆发的按防御力的百分比提高攻击力，这部分攻击力其本质是额外固定攻击力。
举例：90级迪卢克人攻335，携带狼末武攻608，副属性49.6%百攻，被动20%百攻，又携带羽毛311固攻
总攻击力=白字+绿字=(人攻+武攻)×(1+百攻之和)+固攻之和
总攻击力=(335+608)×(1+0.496+0.2)+311=1910

### 倍率区 M (Damage Multipiler)
![]()

大多数角色的技能倍率是只能由技能等级决定的，而且难以变动，所以就很简单。比如刻晴的第一天赋6级普通攻击的第一击技能倍率为59.6%，那么伤害倍率就为59.6%。
伤害倍率=技能倍率
但是游戏中一些角色的额外天赋和武器技能可能对上述值进行影响，比如角色天赋等级，角色额外天赋，角色命座，武器特效等。比方说菲谢尔的大多数提升都是额外的hit，相当于直接加成伤害倍率，有一些武器特效会触发额外的伤害，可以看成是等效的伤害倍率提升，不过大部分加成是一次性。但是这个提升一般是不小的，菲谢尔之所以6命很强，是因为她的命座以及天赋几乎全是伤害倍率的提升，也就是倍率乘区的提升。
所以在此我们定义一个新小乘区，对上述内容进行归纳。
伤害倍率=技能倍率×(1+倍率提升乘区)
行秋的四命效果不知道是bug还是设定如此，也是在上述高贵的“倍率提升乘区”里的。但是行秋的四命效果与辰砂之纺锤的武器特效加算(该武器特效本质为基础倍率区加成，详情请见下一节)。
举例：行秋4命效果为Q过程中使用E，造成伤害提高50%。
10级E的技能倍率为646%，Q之后E的实际伤害倍率为
伤害倍率=技能倍率×(1+倍率乘区提升)=646%×(1+50%)=969%

### 基础&倍率区/基础伤害区(*可跳过)
这部分容易混淆，如果如果你还没很清楚理解上边两个可以直接跳过。为什么叫基础倍率区，是因为游戏结算伤害的基础不一定是攻击力，技能倍率也可以以防御力、生命值为基础进行伤害结算，所以统一把它们叫做基础倍率区，目的而是研究游戏里一些其他类型伤害的计算。
对于一般的伤害，我们知道了其单次伤害计算过程为：
伤害=攻击区*倍率区*增伤区*暴击区*反应区*防御区*抗性区

这里就提到了一些角色，诺艾尔/钟离/阿贝多/心海/申鹤/云堇。他们的伤害是怎么计算的？
[诺艾尔]诺艾尔的Q是把防御转化为攻击力，所以女仆Q之后的伤害计算为:
伤害=(白字*(1+百分比攻击力)+固定攻击力+总防御转化攻击力)*倍率区*增伤区*暴击区*反应区*防御区*抗性区

在这里，女仆的Q防御转化的攻击力本质是额外固定攻击力，直接与其他固定攻击力进行加算。

[钟离]钟离的第二天赋，Q增加33%生命值的伤害，实际计算过程为：
伤害=(总攻击力*伤害倍率+33%最大生命值)*增伤区*暴击区*反应区*防御区*抗性区
看到这里，你是不是就知道了为什么本章节名叫基础倍率区，因为钟离的第二天赋生命值加伤与攻击力*伤害倍率进行加算。

[阿贝多]阿贝多的E和Q，对于阿贝多的E，其本质是把基础攻击力替换为了基础防御力
伤害=(防御白字*(1+百分比防御力)+固定防御力)*倍率区*增伤区*暴击区*反应区*防御区*抗性区
如果是二命阿贝多，更麻烦了，其Q的计算机制为：
伤害=(总攻击力*攻击倍率+总防御力*防御倍率)*增伤区*暴击区*反应区*防御区*抗性区
在这里，相当于阿贝多的Q同时拥有攻击力和防御力双加成。
武器[赤角石溃杵]普通攻击与重击造成的伤害值提高，提高数值相当于防御力的40%，其计算机制也是：伤害=(总攻击力*伤害倍率+总防御力*40%)*增伤区*暴击区*反应区*防御区*抗性区
[珊瑚宫心海]的元素爆发“增加珊瑚宫心海的普通攻击、重击以及元素战技的'化海月'造成的伤害，增加值基于珊瑚宫心海的生命值上限；”也是伤害=(总攻击力*伤害倍率+(生命值倍率+治疗加成*15%)*最大生命值上限)*增伤区*暴击区*反应区*防御区*抗性区
在[申鹤]的E辅助下，队友造成的伤害为：伤害=(总攻击力*伤害倍率+申鹤攻击力*申鹤倍率)*增伤区*暴击区*反应区*防御区*抗性区
在[云堇]的Q辅助下，队友造成的伤害为：伤害=(总攻击力*伤害倍率+云堇防御力*云堇倍率)*增伤区*暴击区*反应区*防御区*抗性区
你会发现，上述无论怎么变动，都是在基础乘区*倍率乘区的积的数值上进行变动，所以称呼此乘区为基础倍率区，其数值特性也是基础乘区和倍率乘区的双向稀释。
一般情况而言，“造成的伤害值提升/增加值”为基础倍率区，“造成的伤害提高”为增伤区。
额外注意：[宵宫]的元素战技“庭火焰硝：在持续期间内，将宵宫的普通攻击发射的箭矢转为炽焰箭，造成的伤害转为火元素伤害，并提高普通攻击造成的伤害”并不是增伤区，而是倍率提升乘区。
假设[云堇]开Q[宵宫]开E，其普攻结算机制为：(宵宫攻击力*宵宫伤害倍率*宵宫E系数+云堇防御力*云堇倍率)*增伤区*暴击区*反应区*防御区*抗性区
原神3.0版本增加了激化反应，此区间这里也叫基础伤害区，本质加的是基础伤害的区间，也是激化反应加成值的区间，两者加算。这里叫基础倍率区是想指明是基础数值与技能倍率的乘积区。

### 增伤区 B (Damage Bonus)
![]()

伤害加成系数=1+各伤害加成数值之和
各伤害加成数值之和=元素/物理伤害加成+对元素影响下的敌人伤害提高+造成伤害提高+元素爆发/元素战技/普攻/重击伤害提高等等。
上述加成只有触发生效，伤害加成一律加算(除本文另有说明)。
注：在增伤区不但有伤害加成，一些怪物(丘丘霜铠王)还会对旅行者施加伤害降低，与伤害加成进行加算。

举例：比如如雷宗室2+2刻晴带黑剑，不带雷伤杯。
如雷2件套+15%雷元素伤害，黑剑+20%普攻重击伤害，宗室2件套+20%元素爆发伤害
刻晴元素战技E纯雷伤，吃到的伤害加成为15%
刻晴不雷附魔重击，纯物理，吃到的伤害加成为20%
刻晴雷附魔重击，雷元素重击，吃到的伤害加成为35%
刻晴元素爆发Q为雷元素伤害，吃到的伤害加成为35%

### 暴击区 C (Critical Bracket)
![]()

伤害中，如果触发了暴击，暴击后伤害为:
暴击后伤害=原伤害*(1+暴击伤害)
对于浮动暴击率和暴击伤害的收益，其期望收益公式为
暴击收益=1+暴击率*暴击伤害

注1：在理论中，中高总权重下，暴击暴伤维持1:2收益最高。但是在实践中，可以利用重复战斗来实现提高暴击率，所以也会有人选择放弃角色一定的暴击率换来暴击伤害的提升。
注2：关于暴击暴伤攻击分配是老生常谈的话题了，比较科学回答是中高总权重下，把攻击堆到绿字/白字=120%左右， 然后暴击暴伤能堆多高堆多高。

举例：A: 30%暴击220%暴伤，B: 50%暴击180%暴伤，C: 70%暴击140%暴伤 D: 90%暴击 100%暴伤 其分别伤害期望为：
A的收益为1+0.3*2.2=1.66
B的收益为1+0.5*1.8=1.9
C的收益为1+0.7*1.4=1.98
D的收益为1+0.9*1.0=1.9
即暴击:暴伤 = 1:2时期望最高。
注：原神游戏数值中，游戏数值系统给攻击暴击暴伤的分配是固有其比例和平衡的，就比如说上述举例中，为什么暴伤变化的大，暴击变化的少，但是上述的例子中，总权重和都是一致的。如果你真的很想了解数值的平衡和收益，可以读一下另一篇[圣遗物数值学导论]([https://bbs.nga.cn/read.php?tid=24270728])
论证过程：[暴率-暴伤-基攻的收益计算及最值分配](https://bbs.nga.cn/read.php?tid=22701004)
[终结暴击暴伤攻击力之争，同数值权重下的暴击暴伤攻击分配](https://bbs.nga.cn/read.php?tid=23711373)

### 防御区 D(Defense)
![]()

防御对象承伤=((人物等级+100)/(1-无视防御%)*(1-防御减免%+防御增加%)*(怪物等级+100)+人物等级+100)
对于满级90级人物，公式可以化简为
防御对象承伤=190/((1-无视防御%)*(1-防御减免%+防御增加%)*(怪物等级+100)+190)

注1：该乘区也就是一般意义上的“等级压制”，在绝大多数情况下，“等级压制”与“怪物防御力”可以认为是一回事。可大致理解为无减防条件下，同等级角色打同等级怪物，减伤恒为50%。角色每提高一级，伤害约增加0.3%(虽然这么说并不精确，但是大致方便理解)，等级压制带来的影响并不是很大。
注2：1.6版本更新后，伤害意义上的等级压制乘区已经消失，现在只保留了比如韧性等的压制效果。(原效果为，在条件极其苛刻的情况下，存在真正的等级压制(等级差≥70,角色≤10)，受击伤害倍率会变为原本的1.5倍，主动攻击伤害也会变为0.5倍，现版本该效果已消失)
注3：上述的防御公式是简化后的公式，现在游戏里怪物的防御计算方式为 怪物防御力=500+5*怪物等级。如果哪天此防御力算法发生改变，上述防御减伤公式亦当改变。
注4：上述防御减免效果，在实战过程中，一些副本中的属性强化石还会赋予怪物防御增加效果，此效果与防御减免效果进行加算。
注5：伴随着雷电将军的实装，“无视防御”属性到来了(以下简称为穿防)。穿防属性与减防属性最大的区别是怪物身上的减防与怪物身上的增防是加算的，但是穿防属性与怪物的最终防御力乘算。

举例：如果是90级角色打90级的怪，没有减防效果，
其效果为190/(190+190)=50%
如果是90级角色打90级的怪，有30%减防效果，
其效果为190/((1-30%)*190+190)=58.8%
30%减防相当于58.8%/50%-1=17.6%的伤害提升
论证过程： 防御力(等级)乘区对伤害影响公式出炉——实际上等级压制与防御力是一回事！ 作者:holiverse
[https://bbs.nga.cn/read.php?tid=23708327]
等级压制： 补全伤害公式，揭秘从未被发现的等级压制乘区，及压制的触发条件(等级压制和防御力不是一回事！！) 作者:空荧酒馆 小明明明中观察
[https://bbs.nga.cn/read.php?tid=24358389]


### 抗性区 R(Resistance)
![]()

怪物所受的抗性减免分为三个层级。
设抗性为R
R>75%时，抗性对象承伤= 1 / (1+4R)
0≤R≤75%时，抗性对象承伤= 1 - R
R<0时，抗性对象承伤=1 - R/2

**抗性表**
![]()

举例：比如甘雨1命减15%抗性，作用于10%抗性的丘丘人
减抗前，10%抗，对象承伤为1-10%=90%
减抗后，-5%抗，对象承伤为1- -5%/2=1+ 5%/2=102.5%
提升率=102.5%/90%-1=13.89%
资料来源：抗性表，完整抗性系数公式，以及详解属性石/树的减伤/先遣队开盾/...等增伤减伤机制。 作者:空荧酒馆 小明明明中观察
[https://bbs.nga.cn/read.php?tid=24079044]

增幅反应乘区因为涉及元素反应，放到下一章节元素反应中一起说明。

## 元素反应伤害的计算
关于元素精通， 补充一点基础常识，元素精通只提高元素反应的伤害。同时元素反应分为增幅类元素反应(蒸发、融化等，提高单次伤害)、激化类元素反应(蔓激化、超激化等，提高单次伤害，与增幅反应涉及的乘区不同)，和剧变类元素反应(扩散、超载、超导、感电等，造成额外一段伤害并有一些额外效果)。同时增幅类元素反应伤害和激化类元素反应伤害是可以吃很多加成的(攻击力、暴击伤害、防御减免、抗性、伤害加成等)，剧变类元素反应的伤害只取决于：角色等级、元素精通、反应伤害提升、抗性。值得一提的是不论何种方式的元素反应，相同招式都是有内置冷却时间的，不过在这里不做详细的展开讨论。(空荧酒馆 小明明明中观察指出，更合理的说法是“不同招式元素附着有冷却时间”，造成了上述现象)












