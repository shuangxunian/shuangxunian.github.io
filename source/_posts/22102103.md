---
title: 抗打断和冲击效果的原理
excerpt: 还是泥潭的老哥写的文章，泥潭的老哥是真强
date: 2022-10-21
categories:
- 游戏
tags:
- 原神
---

## 抗打断
### 韧性类型
韧性类型用于体现防守者基本的抗打断能力，它有4个参数。

韧性条标准长度：韧性条的标准容纳量。该参数也能从侧面体现目标承受削韧的能力。
在游戏中， 存在隐藏的韧性条。韧性条从0开始，会被相应的削韧不断填充。
当韧性条充满，防守者就会进入失衡状态，才能触发相应的效果(打断、硬直和冲击力)。
因为硬直效果的判定在韧性之后，所以将韧性条打满那下攻击，就能触发对应的效果。
单机模式下，敌方韧性条的实际长度等于韧性条的标准长度；但在联机模式下，敌方韧性条的实际长度会大于韧性条的标准长度。
相关内容将会在后面阐述。

韧性条衰减速度：韧性条随时间缓慢清空的速度。该参数也能从侧面体现目标恢复韧性的能力。
在游戏中，防守者未进入失衡状态时，每一帧中，韧性条中积攒的削韧会不断清除。
某一帧内的衰减量 = 衰减速度 * 帧的时长
比如，游戏一直稳定在 60 帧，则 每帧的恢复速度 = 每秒的恢复速度 * (1/60)

耐力系数：一种常态效果，能影响对应攻击带来的削韧效果。该参数也能从侧面体现目标抵抗削韧的能力。
后面会和韧性防御系数一起进行阐述

韧性重置时间：大部分防守者进入失衡状态后，将韧性条瞬间变回 0 的所需时间。该参数也能从侧面体现目标失衡状态的持续时间
如果 韧性重置时间 > 0，防守者进入失衡状态后，失衡状态会保持一段时间，韧性也不会恢复。持续时间结束，韧性条瞬间恢复为 0。
如果 韧性重置时间 = 0，防守者进入失衡状态后，不会保持失衡状态，韧性依然会缓慢恢复。


### 动作霸体系数与技能霸体系数
动作霸体系数是一种系数。对应角色或敌人的部分动作状态存在动作霸体系数，能影响对应攻击带来的削韧效果。
动作霸体系数的功能是增强对应动作下的抗打断能力，使施法者能不被干扰地释放对应技能。

技能霸体系数也是一种系数。它是游戏中 “增强抗打断能力” 技能效果的实现方式，也能影响对应攻击带来的削韧效果。
技能霸体系数的功能是增强对应情况下的抗打断能力，使施法者在对应情况下能更好地输出，不被敌方的攻击干扰。

攻击带来的实际削韧效果，其计算公式如下：
防守方实际受到的削韧 = 攻击的削韧 * 耐力系数 * 动作霸体系数 * 等级压制的韧性系数 * 技能霸体系数1 * 技能霸体系数2 * 技能霸体系数3 * ...

等级压制的韧性系数在下面会提及


### 冻结与石化
当防守者处于冻结或石化状态时，防守者的韧性系统依然正常运作。
即韧性能恢复，敌人也能进入并保持失衡状态。

但冻结会提供 数值为0的技能霸体系数，导致攻击者产生的削韧失去作用。


### 联机模式下敌人韧性条的实际长度
在单机模式下，敌方韧性条的实际长度 = 韧性条的标准长度
在联机模式下，敌人韧性条的实际长度 = 韧性条的标准长度 * 联机增强系数。

一般情况下，联机增强系数与玩家数的计算公式如下：
联机增强系数 = 玩家数 
即 2 个玩家时，敌人的韧性变成原来的 2 倍；3 个玩家时，3 倍；4 个玩家时，4 倍


### 等级压制影响削韧
防守方和攻击方的等效等级之差，能影响对应攻击带来的削韧效果。

相关计算如下：
等效等级 = min{ 80，当前等级 }
即等效等级最高取 80 。

等级差 = 防守者等效等级 - 攻击者等效等级

当 等级差 > 30，等级压制的韧性系数 = 0.5
当 等级差 <= 30，等级压制的韧性系数 = 1

## 冲击效果
### 冲击类型
一个冲击类型包含硬直等级、水平冲击力和竖直冲击力

硬直等级能影响硬直效果和打断效果
注意：后一次攻击的硬直效果能覆盖前一次的硬直效果
比如，第一次能触发击飞的攻击命中敌人，敌人就会进入击飞动画
第二次能触发击退的攻击命中在空中的敌人，敌人就会进入击退动画，立马回到地面
(这部分内容有待验证)

硬直等级的顺序为
*等级 = 0，无影响
*等级 = 1，微颤
*等级 = 2，击打
*等级 = 3，击退
*等级 = 4，击飞

无影响和微颤不能打断敌人的动作。
击打、击退和击飞可以打断敌人的动作。


冲击力能影响对应的硬直效果是否触发，也能影响硬直效果的位移。
水平冲击力影响水平方向的位移，竖直冲击力影响竖直方向的位移。

大部分攻击采用对应的常用冲击类型，来实现常见的硬直效果。
个别攻击则单独填写数值，来实现特定的硬直效果。

注：防守者韧性条被打满，进入失衡状态后，才能触发相应的效果(打断、硬直和冲击力)。

### 硬直效果的触发判定
角色或敌人在地面时的判定流程：
若攻击的硬直等级为击飞时，
满足 攻击的竖直力 >= (5.5 * 敌人的重量) 才能触发击飞；
否则，只触发击退。

若攻击的硬直等级为击退或轻击时，
满足 攻击的水平力 >= (2 * 敌人的重量) 才能触发击退或轻击；
否则，只触发微颤。


角色或敌人在空中或攀爬时的判定流程：
若 攻击的硬直等级 > 微颤 时，触发击飞；
否则，只触发微颤。

### 硬直免疫
硬直免疫有两种实现方式，一种是无敌状态，另一种是冲击力免疫

角色在大招动画期间，部分敌人在特定情况下都处于无敌状态
无敌状态下，即使处于失衡状态，也不会受到硬直效果

部分敌人存在对相应冲击力的免疫，从而防止被击退或击飞。
比如深渊使徒和深渊咏者，免疫击飞冲击力；周本公子第三阶段，同时免疫击退冲击力和击飞冲击力


### 挣扎状态
部分技能可以让满足条件的目标进入挣扎状态，在空中手足无措。
比如温迪大招的风眼，莫娜大招的泡影，深渊水法师的大型泡泡，都能让 重量 <= 100 的目标进入挣扎状态。

但是是否能施加挣扎状态受双方等级差影响。
相关计算如下：

等级差 = 防守者等级 - 攻击者等级

当 等级差 > 20，不能施加挣扎状态
当 等级差 <= 20，能施加挣扎状态


此外，角色和敌人在特定情况下，能获得挣扎状态免疫效果，防止进入挣扎状态

比如角色在大招动画期间，周本中公子在所有阶段，都能获得挣扎状态免疫效果

## 参考链接
[[数据讨论]《韧性力学》第三版 - 抗打断和冲击效果的原理](https://nga.178.com/read.php?tid=31352168)

