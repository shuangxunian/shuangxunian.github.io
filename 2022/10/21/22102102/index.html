<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="记录个人成长与生活，前端，算法，nlp">
  <link 
    rel="icon" 
    href="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&amp;spec=5">
  <title>伤害乘区论</title>
  
    
      <meta 
        property="og:title" 
        content="伤害乘区论">
    
    
      <meta 
        property="og:url" 
        content="http://example.com/2022/10/21/22102102/index.html">
    
    
      <meta 
        property="og:img" 
        content="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&amp;spec=5">
    
    
      <meta 
        property="og:img" 
        content="还是泥潭的老哥写的文章，泥潭的老哥是真强">
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2022-10-21">
      <meta 
        property="og:article:modified_time" 
        content="2022-10-21">
      <meta 
        property="og:article:author" 
        content="霜序廿">
      
        
          <meta 
            property="og:article:tag" 
            content="原神">
        
      
    
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  <link rel="preload" href="/css/main.css" as="style" >
  
  <link rel="modulepreload" href="//instant.page/5.1.0">
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
  
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <a class="navbar-logo-main" href="/">
      
        <img 
          class="navbar-logo-img"
          width="32"
          height="32"
          src="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&spec=5" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">霜序廿的个人网站</span>
      </a>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
    <button 
      class="navbar-menu-item darknavbar navbar-menu-btn" 
      aria-label="Toggle dark mode"
      id="dark">
      <i class="iconfont icon-weather"></i>
    </button>
    <button 
      class="navbar-menu-item searchnavbar navbar-menu-btn" 
      aria-label="Toggle search"
      id="search">
      <!-- <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
        class="iconify iconify--ion" width="28" height="28" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80Z"></path>
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M232 160a72 72 0 1 0 72 72a72 72 0 0 0-72-72Z"></path>
        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28"
          d="M283.64 283.64L336 336"></path>
      </svg>
    </button>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&spec=5" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">霜序廿</p>
<p class="author-description">一个爱算法的小前端</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>254</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>7</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>52</span>
    <span>标签</span>
  </a>
</div>

  <div class="author-card-society">
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://github.com/shuangxunian">
          <i class="iconfont icon-github society-icon"></i>
        </a>
      </div>
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://space.bilibili.com/391117803">
          <i class="iconfont icon-bilibili society-icon"></i>
        </a>
      </div>
    
  </div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%94%BB%E5%87%BB%E4%BC%A4%E5%AE%B3%E5%8F%8A%E4%B9%98%E5%8C%BA"><span class="toc-text">单次攻击伤害及乘区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E4%BC%A4%E5%AE%B3%E5%90%84%E4%B9%98%E5%8C%BA%E6%A6%82%E8%BF%B0"><span class="toc-text">单次伤害各乘区概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E5%8C%BA-A-Attack"><span class="toc-text">攻击区 A (Attack)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%8D%E7%8E%87%E5%8C%BA-M-Damage-Multipiler"><span class="toc-text">倍率区 M (Damage Multipiler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-amp-%E5%80%8D%E7%8E%87%E5%8C%BA-x2F-%E5%9F%BA%E7%A1%80%E4%BC%A4%E5%AE%B3%E5%8C%BA-%E5%8F%AF%E8%B7%B3%E8%BF%87"><span class="toc-text">基础&amp;倍率区&#x2F;基础伤害区(*可跳过)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E4%BC%A4%E5%8C%BA-B-Damage-Bonus"><span class="toc-text">增伤区 B (Damage Bonus)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%B4%E5%87%BB%E5%8C%BA-C-Critical-Bracket"><span class="toc-text">暴击区 C (Critical Bracket)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E5%8C%BA-D-Defense"><span class="toc-text">防御区 D(Defense)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%97%E6%80%A7%E5%8C%BA-R-Resistance"><span class="toc-text">抗性区 R(Resistance)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-text">元素反应伤害的计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%A2%9E%E5%B9%85%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次增幅元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%BF%80%E5%8C%96%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次激化元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%89%A7%E5%8F%98%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次剧变元素反应伤害</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E4%BC%A4%E5%AE%B3-DPS-Damage-Per-Second"><span class="toc-text">单位时间伤害 DPS (Damage Per Second)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%8C%BA%E6%A6%82%E8%BF%B0-Time"><span class="toc-text">时间区概述 (Time)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E4%BC%A4%E5%8C%BA%E4%B8%8E%E7%9B%BE%E5%80%BC%E5%8C%BA"><span class="toc-text">减伤区与盾值区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BC%A4%E5%AE%B3%E7%B1%BB%E5%9E%8B"><span class="toc-text">其他伤害类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93"><span class="toc-text">最后总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">
        <div class="categories-list-item">
          技术文章
          <span class="categories-list-item-badge">219</span>
        </div>
      </a>
    
      <a href="/categories/%E6%97%85%E6%B8%B8/">
        <div class="categories-list-item">
          旅游
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/%E5%85%B6%E4%BB%96/">
        <div class="categories-list-item">
          其他
          <span class="categories-list-item-badge">11</span>
        </div>
      </a>
    
      <a href="/categories/%E6%B8%B8%E6%88%8F/">
        <div class="categories-list-item">
          游戏
          <span class="categories-list-item-badge">7</span>
        </div>
      </a>
    
      <a href="/categories/%E7%AE%97%E6%B3%95/">
        <div class="categories-list-item">
          算法
          <span class="categories-list-item-badge">7</span>
        </div>
      </a>
    
      <a href="/categories/%E8%80%83%E8%AF%95/">
        <div class="categories-list-item">
          考试
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/%E9%98%85%E8%AF%BB/">
        <div class="categories-list-item">
          阅读
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/js/" 
        title="js">
        <div class="tags-list-item">js</div>
      </a>
    
      <a 
        href="/tags/css/" 
        title="css">
        <div class="tags-list-item">css</div>
      </a>
    
      <a 
        href="/tags/vue/" 
        title="vue">
        <div class="tags-list-item">vue</div>
      </a>
    
      <a 
        href="/tags/npm/" 
        title="npm">
        <div class="tags-list-item">npm</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95/" 
        title="算法">
        <div class="tags-list-item">算法</div>
      </a>
    
      <a 
        href="/tags/%E7%BD%91%E7%BB%9C/" 
        title="网络">
        <div class="tags-list-item">网络</div>
      </a>
    
      <a 
        href="/tags/%E8%8B%8F%E5%B7%9E/" 
        title="苏州">
        <div class="tags-list-item">苏州</div>
      </a>
    
      <a 
        href="/tags/%E6%97%85%E6%B8%B8/" 
        title="旅游">
        <div class="tags-list-item">旅游</div>
      </a>
    
      <a 
        href="/tags/indexedDB/" 
        title="indexedDB">
        <div class="tags-list-item">indexedDB</div>
      </a>
    
      <a 
        href="/tags/react/" 
        title="react">
        <div class="tags-list-item">react</div>
      </a>
    
      <a 
        href="/tags/%E6%95%B0%E5%AD%A6/" 
        title="数学">
        <div class="tags-list-item">数学</div>
      </a>
    
      <a 
        href="/tags/%E5%85%B6%E4%BB%96/" 
        title="其他">
        <div class="tags-list-item">其他</div>
      </a>
    
      <a 
        href="/tags/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" 
        title="网络原理">
        <div class="tags-list-item">网络原理</div>
      </a>
    
      <a 
        href="/tags/cookie/" 
        title="cookie">
        <div class="tags-list-item">cookie</div>
      </a>
    
      <a 
        href="/tags/storage/" 
        title="storage">
        <div class="tags-list-item">storage</div>
      </a>
    
      <a 
        href="/tags/%E8%BD%AF%E5%AE%9E%E5%8A%9B/" 
        title="软实力">
        <div class="tags-list-item">软实力</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <main class="main-column">
              
<article class="card card-content">
  <header>
    <h1 class="post-title">
      伤害乘区论
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <a href="https://github.com/shuangxunian/shuangxunian.github.io/edit/server/source/_posts/22102102.md" target="_blank">编辑原文</a>
  </div>
  <div class="post-meta post-show-meta">
    <time datetime="2022-10-21T00:00:00.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2022-10-21</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/%E6%B8%B8%E6%88%8F/" 
          class="post-meta-link">
          游戏
        </a>
      
    
    
      <span class="dot"></span>
      <span>7.5k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/%E5%8E%9F%E7%A5%9E/" 
            class="post-meta-link">
            原神
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h2 id="单次攻击伤害及乘区"><a href="#单次攻击伤害及乘区" class="headerlink" title="单次攻击伤害及乘区"></a>单次攻击伤害及乘区</h2><p>下述伤害的计算暂时抛开碰撞伤害和剧变反应伤害，也暂时不考虑秒均伤害的计算。<br>对于单次攻击的伤害，假设其触发暴击和增幅反应，其一般的公式为：<br>伤害&#x3D;攻击力<em>伤害倍率</em>(1+伤害加成)<em>(1+暴击伤害)<em>增幅反应倍率</em>防御减免</em>抗性减免<br>假设其触发暴击和激化反应，其一般的公式为：<br>伤害&#x3D;(攻击力<em>伤害倍率+激化反应加成值)</em>(1+伤害加成)*(1+暴击伤害)<em>防御减免</em>抗性减免<br>我做了一个伤害计算的大致流程图方便理解。</p>
<p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/dafbf93d-76d5-44e1-8273-35dcbc57294d-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/dafbf93d-76d5-44e1-8273-35dcbc57294d-3807603.jpg"></p>
<p>上述暴击伤害和反应倍率，如果没有触发暴击和增幅反应、激化反应，当然没有此乘区。<br>如果我们对上述进行简写，会得到一个简单理解的公式。<br>伤害&#x3D;攻击区<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区<br>Damage&#x3D;A区 * M区 * B区 * C区 * E区 * D区 * R区<br>攻击区&#x3D; A &#x3D; Attack<br>倍率区&#x3D; M &#x3D; Damage Multipiler<br>增伤区&#x3D; B &#x3D; Damage Bonus<br>暴击区&#x3D; C &#x3D; Critical Bracket<br>反应区&#x3D; E &#x3D; Elemental Reaction<br>防御区&#x3D; D &#x3D; Defense<br>抗性区&#x3D; R &#x3D; Resistance</p>
<h2 id="单次伤害各乘区概述"><a href="#单次伤害各乘区概述" class="headerlink" title="单次伤害各乘区概述"></a>单次伤害各乘区概述</h2><p>在阅读这一部分攻略前，还是想重申一次上边的话。碍于文章硬核程度，本文难以从简至繁书写结论。如果只是想简单了解基础数值系统，建议只阅读攻击区&#x2F;增伤区&#x2F;暴击区即可，其他的部分因为游戏中出现较少，基本可以认为是高收益又难稀释的乘区。同时因为元素反应区涉及很多数据和增幅剧变两种反应，放到下一章节进行说明。</p>
<h3 id="攻击区-A-Attack"><a href="#攻击区-A-Attack" class="headerlink" title="攻击区 A (Attack)"></a>攻击区 A (Attack)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/f8f45304-b216-4681-a200-6ba064fe72fe-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/f8f45304-b216-4681-a200-6ba064fe72fe-3807603.jpg"></p>
<p>先规定几个缩写，便于缩减字数。<br>人攻&#x3D;人物攻击力，武攻&#x3D;武器攻击力<br>百攻&#x3D;百分比攻击力，固攻&#x3D;固定攻击力<br>攻击力计算公式为：<br>总攻击力&#x3D;白字+绿字&#x3D;(人攻+武攻)×(1+百攻之和)+固攻之和<br>基础攻击力&#x3D;白字&#x3D;人物攻击力+武器攻击力<br>额外攻击力&#x3D;绿字&#x3D;基础攻击力×百攻之和+固攻之和<br>上述“额外攻击力“受到一切出现此描述的数值加成的影响，包括受到角色突破加成，角色天赋，角色命座，武器副词条，武器特效，圣遗物主词条，圣遗物副词条，圣遗物套装效果影响等。“额外攻击力”效果包括百分比攻击力和固定攻击力，在自身乘区里全为加算。<br>除受人物等级和携带武器的影响之外，人物的基础攻击力(白字)无法变动也无法提升(食物效果论外)。一些武器的被动(磐岩结绿系列)，被动是按最大生命值百分比加攻击力，还有诺艾尔元素爆发的按防御力的百分比提高攻击力，这部分攻击力其本质是额外固定攻击力。<br>举例：90级迪卢克人攻335，携带狼末武攻608，副属性49.6%百攻，被动20%百攻，又携带羽毛311固攻<br>总攻击力&#x3D;白字+绿字&#x3D;(人攻+武攻)×(1+百攻之和)+固攻之和<br>总攻击力&#x3D;(335+608)×(1+0.496+0.2)+311&#x3D;1910</p>
<h3 id="倍率区-M-Damage-Multipiler"><a href="#倍率区-M-Damage-Multipiler" class="headerlink" title="倍率区 M (Damage Multipiler)"></a>倍率区 M (Damage Multipiler)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/370a7c60-6683-4f8b-b9f4-8c79f888ba44-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/370a7c60-6683-4f8b-b9f4-8c79f888ba44-3807603.jpg"></p>
<p>大多数角色的技能倍率是只能由技能等级决定的，而且难以变动，所以就很简单。比如刻晴的第一天赋6级普通攻击的第一击技能倍率为59.6%，那么伤害倍率就为59.6%。<br>伤害倍率&#x3D;技能倍率<br>但是游戏中一些角色的额外天赋和武器技能可能对上述值进行影响，比如角色天赋等级，角色额外天赋，角色命座，武器特效等。比方说菲谢尔的大多数提升都是额外的hit，相当于直接加成伤害倍率，有一些武器特效会触发额外的伤害，可以看成是等效的伤害倍率提升，不过大部分加成是一次性。但是这个提升一般是不小的，菲谢尔之所以6命很强，是因为她的命座以及天赋几乎全是伤害倍率的提升，也就是倍率乘区的提升。<br>所以在此我们定义一个新小乘区，对上述内容进行归纳。<br>伤害倍率&#x3D;技能倍率×(1+倍率提升乘区)<br>行秋的四命效果不知道是bug还是设定如此，也是在上述高贵的“倍率提升乘区”里的。但是行秋的四命效果与辰砂之纺锤的武器特效加算(该武器特效本质为基础倍率区加成，详情请见下一节)。<br>举例：行秋4命效果为Q过程中使用E，造成伤害提高50%。<br>10级E的技能倍率为646%，Q之后E的实际伤害倍率为<br>伤害倍率&#x3D;技能倍率×(1+倍率乘区提升)&#x3D;646%×(1+50%)&#x3D;969%</p>
<h3 id="基础-amp-倍率区-x2F-基础伤害区-可跳过"><a href="#基础-amp-倍率区-x2F-基础伤害区-可跳过" class="headerlink" title="基础&amp;倍率区&#x2F;基础伤害区(*可跳过)"></a>基础&amp;倍率区&#x2F;基础伤害区(*可跳过)</h3><p>这部分容易混淆，如果如果你还没很清楚理解上边两个可以直接跳过。为什么叫基础倍率区，是因为游戏结算伤害的基础不一定是攻击力，技能倍率也可以以防御力、生命值为基础进行伤害结算，所以统一把它们叫做基础倍率区，目的而是研究游戏里一些其他类型伤害的计算。<br>对于一般的伤害，我们知道了其单次伤害计算过程为：<br>伤害&#x3D;攻击区<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区</p>
<p>这里就提到了一些角色，诺艾尔&#x2F;钟离&#x2F;阿贝多&#x2F;心海&#x2F;申鹤&#x2F;云堇。他们的伤害是怎么计算的？<br>[诺艾尔]诺艾尔的Q是把防御转化为攻击力，所以女仆Q之后的伤害计算为:<br>伤害&#x3D;(白字*(1+百分比攻击力)+固定攻击力+总防御转化攻击力)<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区</p>
<p>在这里，女仆的Q防御转化的攻击力本质是额外固定攻击力，直接与其他固定攻击力进行加算。</p>
<p>[钟离]钟离的第二天赋，Q增加33%生命值的伤害，实际计算过程为：<br>伤害&#x3D;(总攻击力<em>伤害倍率+33%最大生命值)<em>增伤区</em>暴击区</em>反应区<em>防御区</em>抗性区<br>看到这里，你是不是就知道了为什么本章节名叫基础倍率区，因为钟离的第二天赋生命值加伤与攻击力*伤害倍率进行加算。</p>
<p>[阿贝多]阿贝多的E和Q，对于阿贝多的E，其本质是把基础攻击力替换为了基础防御力<br>伤害&#x3D;(防御白字*(1+百分比防御力)+固定防御力)<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区<br>如果是二命阿贝多，更麻烦了，其Q的计算机制为：<br>伤害&#x3D;(总攻击力<em>攻击倍率+总防御力</em>防御倍率)<em>增伤区</em>暴击区<em>反应区</em>防御区<em>抗性区<br>在这里，相当于阿贝多的Q同时拥有攻击力和防御力双加成。<br>武器[赤角石溃杵]普通攻击与重击造成的伤害值提高，提高数值相当于防御力的40%，其计算机制也是：伤害&#x3D;(总攻击力</em>伤害倍率+总防御力<em>40%)<em>增伤区</em>暴击区</em>反应区<em>防御区</em>抗性区<br>[珊瑚宫心海]的元素爆发“增加珊瑚宫心海的普通攻击、重击以及元素战技的’化海月’造成的伤害，增加值基于珊瑚宫心海的生命值上限；”也是伤害&#x3D;(总攻击力<em>伤害倍率+(生命值倍率+治疗加成</em>15%)<em>最大生命值上限)<em>增伤区</em>暴击区</em>反应区<em>防御区</em>抗性区<br>在[申鹤]的E辅助下，队友造成的伤害为：伤害&#x3D;(总攻击力<em>伤害倍率+申鹤攻击力</em>申鹤倍率)<em>增伤区</em>暴击区<em>反应区</em>防御区<em>抗性区<br>在[云堇]的Q辅助下，队友造成的伤害为：伤害&#x3D;(总攻击力</em>伤害倍率+云堇防御力<em>云堇倍率)<em>增伤区</em>暴击区</em>反应区<em>防御区</em>抗性区<br>你会发现，上述无论怎么变动，都是在基础乘区<em>倍率乘区的积的数值上进行变动，所以称呼此乘区为基础倍率区，其数值特性也是基础乘区和倍率乘区的双向稀释。<br>一般情况而言，“造成的伤害值提升&#x2F;增加值”为基础倍率区，“造成的伤害提高”为增伤区。<br>额外注意：[宵宫]的元素战技“庭火焰硝：在持续期间内，将宵宫的普通攻击发射的箭矢转为炽焰箭，造成的伤害转为火元素伤害，并提高普通攻击造成的伤害”并不是增伤区，而是倍率提升乘区。<br>假设[云堇]开Q[宵宫]开E，其普攻结算机制为：(宵宫攻击力</em>宵宫伤害倍率<em>宵宫E系数+云堇防御力</em>云堇倍率)<em>增伤区</em>暴击区<em>反应区</em>防御区*抗性区<br>原神3.0版本增加了激化反应，此区间这里也叫基础伤害区，本质加的是基础伤害的区间，也是激化反应加成值的区间，两者加算。这里叫基础倍率区是想指明是基础数值与技能倍率的乘积区。</p>
<h3 id="增伤区-B-Damage-Bonus"><a href="#增伤区-B-Damage-Bonus" class="headerlink" title="增伤区 B (Damage Bonus)"></a>增伤区 B (Damage Bonus)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/9eac9f17-f39a-491c-8532-4a69821bbfc5-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/9eac9f17-f39a-491c-8532-4a69821bbfc5-3807603.jpg"></p>
<p>伤害加成系数&#x3D;1+各伤害加成数值之和<br>各伤害加成数值之和&#x3D;元素&#x2F;物理伤害加成+对元素影响下的敌人伤害提高+造成伤害提高+元素爆发&#x2F;元素战技&#x2F;普攻&#x2F;重击伤害提高等等。<br>上述加成只有触发生效，伤害加成一律加算(除本文另有说明)。<br>注：在增伤区不但有伤害加成，一些怪物(丘丘霜铠王)还会对旅行者施加伤害降低，与伤害加成进行加算。</p>
<p>举例：比如如雷宗室2+2刻晴带黑剑，不带雷伤杯。<br>如雷2件套+15%雷元素伤害，黑剑+20%普攻重击伤害，宗室2件套+20%元素爆发伤害<br>刻晴元素战技E纯雷伤，吃到的伤害加成为15%<br>刻晴不雷附魔重击，纯物理，吃到的伤害加成为20%<br>刻晴雷附魔重击，雷元素重击，吃到的伤害加成为35%<br>刻晴元素爆发Q为雷元素伤害，吃到的伤害加成为35%</p>
<h3 id="暴击区-C-Critical-Bracket"><a href="#暴击区-C-Critical-Bracket" class="headerlink" title="暴击区 C (Critical Bracket)"></a>暴击区 C (Critical Bracket)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/d173856e-c28b-4d49-82d2-a096e8c263be-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/d173856e-c28b-4d49-82d2-a096e8c263be-3807603.jpg"></p>
<p>伤害中，如果触发了暴击，暴击后伤害为:<br>暴击后伤害&#x3D;原伤害*(1+暴击伤害)<br>对于浮动暴击率和暴击伤害的收益，其期望收益公式为<br>暴击收益&#x3D;1+暴击率*暴击伤害</p>
<p>注1：在理论中，中高总权重下，暴击暴伤维持1:2收益最高。但是在实践中，可以利用重复战斗来实现提高暴击率，所以也会有人选择放弃角色一定的暴击率换来暴击伤害的提升。<br>注2：关于暴击暴伤攻击分配是老生常谈的话题了，比较科学回答是中高总权重下，把攻击堆到绿字&#x2F;白字&#x3D;120%左右， 然后暴击暴伤能堆多高堆多高。</p>
<p>举例：A: 30%暴击220%暴伤，B: 50%暴击180%暴伤，C: 70%暴击140%暴伤 D: 90%暴击 100%暴伤 其分别伤害期望为：<br>A的收益为1+0.3<em>2.2&#x3D;1.66<br>B的收益为1+0.5</em>1.8&#x3D;1.9<br>C的收益为1+0.7<em>1.4&#x3D;1.98<br>D的收益为1+0.9</em>1.0&#x3D;1.9<br>即暴击:暴伤 &#x3D; 1:2时期望最高。<br>注：原神游戏数值中，游戏数值系统给攻击暴击暴伤的分配是固有其比例和平衡的，就比如说上述举例中，为什么暴伤变化的大，暴击变化的少，但是上述的例子中，总权重和都是一致的。如果你真的很想了解数值的平衡和收益，可以读一下另一篇<a href="%5Bhttps://bbs.nga.cn/read.php?tid=24270728%5D">圣遗物数值学导论</a><br>论证过程：<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=22701004">暴率-暴伤-基攻的收益计算及最值分配</a><br><a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=23711373">终结暴击暴伤攻击力之争，同数值权重下的暴击暴伤攻击分配</a></p>
<h3 id="防御区-D-Defense"><a href="#防御区-D-Defense" class="headerlink" title="防御区 D(Defense)"></a>防御区 D(Defense)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/27fd9b69-60b3-44b7-90c6-54d9d2936426-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/27fd9b69-60b3-44b7-90c6-54d9d2936426-3807603.jpg"></p>
<p>防御对象承伤&#x3D;((人物等级+100)&#x2F;(1-无视防御%)<em>(1-防御减免%+防御增加%)</em>(怪物等级+100)+人物等级+100)<br>对于满级90级人物，公式可以化简为<br>防御对象承伤&#x3D;190&#x2F;((1-无视防御%)<em>(1-防御减免%+防御增加%)</em>(怪物等级+100)+190)</p>
<p>注1：该乘区也就是一般意义上的“等级压制”，在绝大多数情况下，“等级压制”与“怪物防御力”可以认为是一回事。可大致理解为无减防条件下，同等级角色打同等级怪物，减伤恒为50%。角色每提高一级，伤害约增加0.3%(虽然这么说并不精确，但是大致方便理解)，等级压制带来的影响并不是很大。<br>注2：1.6版本更新后，伤害意义上的等级压制乘区已经消失，现在只保留了比如韧性等的压制效果。(原效果为，在条件极其苛刻的情况下，存在真正的等级压制(等级差≥70,角色≤10)，受击伤害倍率会变为原本的1.5倍，主动攻击伤害也会变为0.5倍，现版本该效果已消失)<br>注3：上述的防御公式是简化后的公式，现在游戏里怪物的防御计算方式为 怪物防御力&#x3D;500+5*怪物等级。如果哪天此防御力算法发生改变，上述防御减伤公式亦当改变。<br>注4：上述防御减免效果，在实战过程中，一些副本中的属性强化石还会赋予怪物防御增加效果，此效果与防御减免效果进行加算。<br>注5：伴随着雷电将军的实装，“无视防御”属性到来了(以下简称为穿防)。穿防属性与减防属性最大的区别是怪物身上的减防与怪物身上的增防是加算的，但是穿防属性与怪物的最终防御力乘算。</p>
<p>举例：如果是90级角色打90级的怪，没有减防效果，<br>其效果为190&#x2F;(190+190)&#x3D;50%<br>如果是90级角色打90级的怪，有30%减防效果，<br>其效果为190&#x2F;((1-30%)*190+190)&#x3D;58.8%<br>30%减防相当于58.8%&#x2F;50%-1&#x3D;17.6%的伤害提升<br>论证过程： 防御力(等级)乘区对伤害影响公式出炉——实际上等级压制与防御力是一回事！ 作者:holiverse<br>[<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=23708327%5D">https://bbs.nga.cn/read.php?tid=23708327]</a><br>等级压制： 补全伤害公式，揭秘从未被发现的等级压制乘区，及压制的触发条件(等级压制和防御力不是一回事！！) 作者:空荧酒馆 小明明明中观察<br>[<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=24358389%5D">https://bbs.nga.cn/read.php?tid=24358389]</a></p>
<h3 id="抗性区-R-Resistance"><a href="#抗性区-R-Resistance" class="headerlink" title="抗性区 R(Resistance)"></a>抗性区 R(Resistance)</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/c9156066-ccd1-4209-b590-418a57d3e514-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/c9156066-ccd1-4209-b590-418a57d3e514-3807603.jpg"></p>
<p>怪物所受的抗性减免分为三个层级。<br>设抗性为R<br>R&gt;75%时，抗性对象承伤&#x3D; 1 &#x2F; (1+4R)<br>0≤R≤75%时，抗性对象承伤&#x3D; 1 - R<br>R&lt;0时，抗性对象承伤&#x3D;1 - R&#x2F;2</p>
<p><strong>抗性表</strong><br><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/1483ed41-2650-4e5e-9fc8-51ff2c7a091e-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/1483ed41-2650-4e5e-9fc8-51ff2c7a091e-3807603.jpg"></p>
<p>举例：比如甘雨1命减15%抗性，作用于10%抗性的丘丘人<br>减抗前，10%抗，对象承伤为1-10%&#x3D;90%<br>减抗后，-5%抗，对象承伤为1- -5%&#x2F;2&#x3D;1+ 5%&#x2F;2&#x3D;102.5%<br>提升率&#x3D;102.5%&#x2F;90%-1&#x3D;13.89%<br>资料来源：抗性表，完整抗性系数公式，以及详解属性石&#x2F;树的减伤&#x2F;先遣队开盾&#x2F;…等增伤减伤机制。 作者:空荧酒馆 小明明明中观察<br>[<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=24079044%5D">https://bbs.nga.cn/read.php?tid=24079044]</a></p>
<p>增幅反应乘区因为涉及元素反应，放到下一章节元素反应中一起说明。</p>
<h2 id="元素反应伤害的计算"><a href="#元素反应伤害的计算" class="headerlink" title="元素反应伤害的计算"></a>元素反应伤害的计算</h2><p>关于元素精通， 补充一点基础常识，元素精通只提高元素反应的伤害。同时元素反应分为增幅类元素反应(蒸发、融化等，提高单次伤害)、激化类元素反应(蔓激化、超激化等，提高单次伤害，与增幅反应涉及的乘区不同)，和剧变类元素反应(扩散、超载、超导、感电等，造成额外一段伤害并有一些额外效果)。同时增幅类元素反应伤害和激化类元素反应伤害是可以吃很多加成的(攻击力、暴击伤害、防御减免、抗性、伤害加成等)，剧变类元素反应的伤害只取决于：角色等级、元素精通、反应伤害提升、抗性。值得一提的是不论何种方式的元素反应，相同招式都是有内置冷却时间的，不过在这里不做详细的展开讨论。(空荧酒馆 小明明明中观察指出，更合理的说法是“不同招式元素附着有冷却时间”，造成了上述现象)</p>
<h3 id="单次增幅元素反应伤害"><a href="#单次增幅元素反应伤害" class="headerlink" title="单次增幅元素反应伤害"></a>单次增幅元素反应伤害</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/f55da7e6-356c-4f1f-8e33-c126f300d1ce-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/f55da7e6-356c-4f1f-8e33-c126f300d1ce-3807603.jpg"></p>
<p>增幅反应总倍率&#x3D;反应基础倍率*(1 + 精通提升 + 反应系数提高)<br>其中反应基础倍率为固定值，比如蒸发融化。<br>反应基础倍率：水火蒸发2.0，火水蒸发1.5，火冰融化2.0，冰火融化1.5.<br>元素精通提升&#x3D; (2.78*精通)&#x2F;(精通+1400)<br>反应效果提高为实际百分比(一般出现在圣遗物4件套效果里)。</p>
<p>注：原精通提升公式为元素精通提升&#x3D;K*(25&#x2F;9)*精通&#x2F;(精通+1401)，或许派蒙为了减少程序运算量，直接用近似数进行计算。 其中25&#x2F;9≈2.78。</p>
<p>举例：比如180精通魔女迪卢克打蒸发<br>反应基础倍率(火水蒸发)为1.5<br>元素精通提升&#x3D; (1<em>2.78</em>180)&#x2F;(180+1400)&#x3D;31.67%<br>魔女套提供的蒸发反应系数提高百分比为15%<br>增幅反应总倍率&#x3D;反应基础倍率*(1 + 精通提升 + 反应系数提高)<br>增幅反应总倍率&#x3D;1.5*(1+31.67%+15%)&#x3D;220%<br>论证过程：元素精通收益的经验公式基本确定 作者:holiverse<br>[<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=23723874%5D">https://bbs.nga.cn/read.php?tid=23723874]</a></p>
<p>在这里，我们已经讲完了上述单次增幅伤害所有乘区。<br>对于单次攻击的伤害，假设其触发暴击和增幅反应，其一般的公式为<br>伤害&#x3D;总攻击力<em>伤害倍率</em>(1+伤害加成)<em>(1+暴击伤害)<em>反应总倍率</em>防御减免</em>抗性减免</p>
<h3 id="单次激化元素反应伤害"><a href="#单次激化元素反应伤害" class="headerlink" title="单次激化元素反应伤害"></a>单次激化元素反应伤害</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/f9c5b2b7-d7f3-4ed5-a816-a482d578ee62-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/f9c5b2b7-d7f3-4ed5-a816-a482d578ee62-3807603.jpg"></p>
<p>激化反应加成值 &#x3D; 等级系数<em>类型系数</em>(1 + 精通提升 + 伤害提升提高)<br>等级系数为常量，90级为1446.85<br>类型系数：蔓激化1.25，超激化1.15<br>精通提升 &#x3D; (5×元素精通)&#x2F;(元素精通+1200)<br>伤害提升提高为实际百分比(一般出现在圣遗物4件套效果里)。<br>激化反应加成值为基础伤害区的增加数值。<br>举例：比如90级2000攻击力100精通的草元素角色打雷激化，技能倍率为100%，则基础伤害区数值为：<br>  基础伤害区数值&#x3D;攻击力<em>技能倍率+激化反应加成值<br>  &#x3D;2000</em>100%+1446.85<em>1.25</em>(1+5<em>100&#x2F;(100+1200))<br>  &#x3D;4504.2<br>  激化反应使得该单次伤害的基础伤害区数值由2000变成了4504.2<br>激化反应伤害计算为：<br>伤害&#x3D;(总攻击力</em>伤害倍率+激化反应加成值)<em>(1+伤害加成)</em>(1+暴击伤害)<em>防御减免</em>抗性减免</p>
<h3 id="单次剧变元素反应伤害"><a href="#单次剧变元素反应伤害" class="headerlink" title="单次剧变元素反应伤害"></a>单次剧变元素反应伤害</h3><p><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/de155b74-bdd5-438d-a0de-c11c8fa05013-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/de155b74-bdd5-438d-a0de-c11c8fa05013-3807603.jpg"></p>
<p>对于剧变反应，其伤害为：<br>剧变伤害&#x3D;等级系数×抗性承伤×反应基础倍率×(1+精通提升+反应伤害提升)<br>剧变反应的伤害计算中涉及的乘区没有防御力、伤害加成、攻击力等<br>等级系数为常量，90级为1446.85。<br>其中反应基础倍率以超导的两倍为基准值，比率为固定值。<br>反应基础倍率：超导 0.5：扩散0.6：碎冰1.5：超载2：感电1.2：绽放2：烈绽放3：超绽放3：燃烧0.25<br>精通提升&#x3D; ( 16*精通 )&#x2F;( 精通+2000 )<br>反应伤害提升为实际百分比(一般出现在圣遗物4件套效果里)。<br>妮露天赋描述中“角色触发的丰穰之核造成的伤害提升”，其本质为上述的“反应伤害提升”，与其他反应伤害提升一起加算。</p>
<p>额外注意：圣遗物海染砗磲的效果“装备此圣遗物套装的角色对队伍中的角色进行治疗时，将产生持续3秒的海染泡沫，记录治疗的生命值回复量(包括溢出值)。持续时间结束时，海染泡沫将会爆炸，对周围的敌人造成90%累计回复量的伤害(该伤害结算方式同感电、超导等元素反应，但不受元素精通、等级或反应伤害加成效果影响”其本质为只有 奶量、抗性 两个乘区的剧变反应伤害类型结算。<br>额外注意：风元素扩散反应伤害是可以触发增幅反应的，拥有额外乘区，不过在此不多赘述。详情请见个人著：《高等元素论》综述。</p>
<p><strong>等级系数</strong><br><img  srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://api2.mubu.com/v3/document_image/ef4e6083-3024-45f8-b406-b3daf84ce086-3807603.jpg" class="lozad post-image"src="https://api2.mubu.com/v3/document_image/ef4e6083-3024-45f8-b406-b3daf84ce086-3807603.jpg"></p>
<p>注：结晶盾盾值公式可以看做一个类剧变反应伤害的计算公式。<br>结晶盾盾值&#x3D;结晶等级系数*(1+(4.44<em>元素精通)&#x2F;(元素精通+1400))<br>注：等级系数在1.6版本进行过一次改版，随后角色造成的剧变反应都使用新参数，而怪物和环境造成的伤害仍然沿用旧参数。不过本文不对怪物伤害有过深的描述，故不着重提及。<br>注：一些深渊场地会增加剧变反应伤害，该算法属于额外乘区。<br>即剧变反应伤害&#x3D;原剧变反应伤害</em>(1+深渊场地加成)</p>
<p>举例：90级180精通魔女套香菱打10%抗性的丘丘人，打超载<br>角色等级为90<br>抗性减免10%，承伤90%<br>超载基础倍率2.0<br>元素精通提高值&#x3D; 16<em>180&#x2F;(180+2000)&#x3D;132.1%<br>魔女套提供的超载反应伤害提升百分比为40%<br>超载反应总伤害&#x3D;1446</em>0.9<em>2</em>(1+132.1%+40%)&#x3D;7082<br>资料来源： 超载、感电、扩散、超导、碎冰能打多少伤害 作者:空荧酒馆 鈴<br>[<a target="_blank" rel="noopener" href="https://bbs.mihoyo.com/ys/article/2215872]">https://bbs.mihoyo.com/ys/article/2215872]</a></p>
<h2 id="单位时间伤害-DPS-Damage-Per-Second"><a href="#单位时间伤害-DPS-Damage-Per-Second" class="headerlink" title="单位时间伤害 DPS (Damage Per Second)"></a>单位时间伤害 DPS (Damage Per Second)</h2><p>看到这里，你可能问了，白猫老师，怎么还有DPS，是不是又要加乘区？很遗憾，是的，乘区还可以更多,但是在这里只是简单描述一下其他乘区，并不会很深入的探究。<br>上述都是计算单次伤害的计算，如果我们引入秒均输出(DPS)，就需要添加其他的乘区。</p>
<h3 id="时间区概述-Time"><a href="#时间区概述-Time" class="headerlink" title="时间区概述 (Time)"></a>时间区概述 (Time)</h3><p>动作的基础持续时间T (Time)<br>每个角色的每个动作一般不同，一般是固定值。</p>
<p>攻击速度S(Attack Speed)<br>受到角色天赋，角色命座,武器特效影响。<br>目前的测试结果倾向于攻速会减少硬直或前摇的帧，同时有数据表明似乎是乘算收益，但如果攻击动作动画不受影响，那么说明攻速加成是有上限的，并且其叠加方式也不清楚。需要更多测试，因此很多数据并没有补充完整，加强攻速的方式还是有很多的。<br>(当前版本的攻速叠加上限为60%)。<br>对于平A重击或CD小于施法时间的技能，其DPS计算为：<br>DPS&#x3D;攻击区<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区*攻击速度</p>
<p>从k帧开始，尝试分析原神攻速机制及其引起的“掉帧”感(更新雷泽及补充结论)<br>[<a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?tid=25248484%5D">https://bbs.nga.cn/read.php?tid=25248484]</a></p>
<p>冷却缩减 CD(Cooldown reduction)<br>对于有冷却时间的技能，冷却时间缩减带来伤害的收益，其DPS计算为：<br>DPS&#x3D;攻击区<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区&#x2F;(T*(1-冷却缩减百分比)*之积)</p>
<p>对于冷却缩减，原神中存在着两种冷却缩减，一种为全局冷却缩减，一种为局部冷却缩减，两种冷却缩减互为乘算。(更合理的说法是，一种冷却缩减的本质是“直接减少冷却时间”，而另一种冷却缩减是“缩短冷却时间”)</p>
<p>举例：班尼特E CD 5s，第一天赋为E减少20%冷却，第二天赋为Q之中E减少50%冷却。<br>班尼特空放E，CD为5s*(1-20%)&#x3D;4s<br>班尼特Q中放E，CD为5s*(1-20%)*(1-50%)&#x3D;2s</p>
<h3 id="减伤区与盾值区"><a href="#减伤区与盾值区" class="headerlink" title="减伤区与盾值区"></a>减伤区与盾值区</h3><p>除了上述乘区之外，还有减伤区和盾值区。</p>
<p>关于减伤区数值计算的过程，现有非常有限的测试结果得出减伤区为加算，并且减伤区的数值是可以堆到或者突破100%的。在高于或等于100%时，人物受到伤害并不会跳伤害数字(剧变反应为无视伤害减免的固定伤害)。同时减伤是结算在盾值区之前的，这就是为什么有行秋的情况下，钟离的盾非常的厚。<br>注：角色减伤的本质是对应的怪物的增伤区(高难活动中角色会有易伤)，此时角色减伤与怪物增伤&#x2F;角色自身易伤进行加算。</p>
<p>关于盾值区，人物承伤减去的盾值量是计算在减伤区之后的，也就是会优先计算减伤。同时护盾强效如非特殊标注，只对持有护盾强效的角色生效。如果拿一个拥有护盾强效的角色为没有护盾强效的角色套盾，如果没有特殊标注，并不会增加没有护盾强效的角色的盾值。<br>举例：不考虑钟离第一天赋增加的护盾强效，如果拿着贯虹之槊，贯虹之槊自带20%护盾强效，则钟离有20%护盾强效。此时钟离给自己套盾，则护盾厚度变为120%，假如现在切城其他不带护盾强效的角色，此时护盾厚度变为100%，即护盾强效只对“自己”生效。</p>
<h3 id="其他伤害类型"><a href="#其他伤害类型" class="headerlink" title="其他伤害类型"></a>其他伤害类型</h3><p>本文讲述的主要是角色造成的伤害类型。<br>除了这种伤害之外，怪物伤害、环境伤害的类型并没有过多描述。<br>除此之外，额外的伤害类型还有碰撞伤害和生命流逝，因为它们本身出现的地方不怎么常见，所以本文也并未提及。</p>
<p><a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?&amp;tid=25564438">https://bbs.nga.cn/read.php?&amp;tid=25564438</a></p>
<h2 id="最后总结"><a href="#最后总结" class="headerlink" title="最后总结"></a>最后总结</h2><p>看到这里，一般人都受不住了，感谢你的坚持(一般人不会看到这里)。于是我们可以总结增幅反应DPS的整合期望公式<br>伤害&#x3D;攻击区<em>倍率区</em>增伤区<em>暴击区</em>反应区<em>防御区</em>抗性区<em>时间区<br>Damage&#x3D;A区</em>M区<em>B区</em>C区<em>E区</em>D区<em>R区</em>T区<br>如果我们把上述公式展开呢？<br>期望DPS&#x3D;((人物攻击力+武器攻击力)<em>(1+百分比攻击力)+固定攻击力)</em>(技能倍率*(1+额外乘区提升))<em>(1+各伤害加成数值之和)</em>(1+暴击率<em>暴击伤害)<em>反应基础倍率</em>(1+(2.78</em>精通)&#x2F;(精通+1400)+反应系数提高)<em>((角色等级+100)&#x2F;((1-无视防御效果)(1-防御减免效果+防御增加效果)</em>(怪物等级+100)+角色等级+100))<em>(抗性区收益[1&#x2F;(1+4R) if &gt;75%,1-R if 75%&gt;R&gt;0,1-R&#x2F;2 if 0&gt;R])<em>攻击速度<br>激化反应DPS的整合期望公式：<br>期望DPS&#x3D;(((人物攻击力+武器攻击力)</em>(1+百分比攻击力)+固定攻击力)</em>(技能倍率*(1+额外乘区提升))+激化等级系数×类型系数×( 1+(5<em>精通)&#x2F;(精通+1200)+ 伤害提升提高))</em>(1+各伤害加成数值之和)<em>(1+暴击率</em>暴击伤害)<em>((角色等级+100)&#x2F;((1-无视防御效果)(1-防御减免效果+防御增加效果)</em>(怪物等级+100)+角色等级+100))*(抗性区收益[1&#x2F;(1+4R) if &gt;75%,1-R if 75%&gt;R&gt;0,1-R&#x2F;2 if 0&gt;R])<em>攻击速度<br>上述公式，如果只想求单次攻击的期望，直接把时间区(攻击速度)删掉就好了。如果要求的不是期望而是单次攻击的数值，则把暴击区的(1+暴击率</em>暴击伤害)替换为(1+暴击伤害)</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://bbs.nga.cn/read.php?&tid=25564438">[数据讨论] [提瓦特大学]《伤害乘区论》3.1(已更新激化反应、燃烧反应等)</a></p>

  </div>
  <div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2022/10/21/22102101/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">《普通破盾学》(正式版) </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2022/10/21/22102103/" 
        class="nav-link">
        <div>
          <div class="nav-label">下一篇</div>
          
            <div class="nav-title">抗打断和冲击效果的原理 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%94%BB%E5%87%BB%E4%BC%A4%E5%AE%B3%E5%8F%8A%E4%B9%98%E5%8C%BA"><span class="toc-text">单次攻击伤害及乘区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E4%BC%A4%E5%AE%B3%E5%90%84%E4%B9%98%E5%8C%BA%E6%A6%82%E8%BF%B0"><span class="toc-text">单次伤害各乘区概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E5%8C%BA-A-Attack"><span class="toc-text">攻击区 A (Attack)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%8D%E7%8E%87%E5%8C%BA-M-Damage-Multipiler"><span class="toc-text">倍率区 M (Damage Multipiler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-amp-%E5%80%8D%E7%8E%87%E5%8C%BA-x2F-%E5%9F%BA%E7%A1%80%E4%BC%A4%E5%AE%B3%E5%8C%BA-%E5%8F%AF%E8%B7%B3%E8%BF%87"><span class="toc-text">基础&amp;倍率区&#x2F;基础伤害区(*可跳过)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E4%BC%A4%E5%8C%BA-B-Damage-Bonus"><span class="toc-text">增伤区 B (Damage Bonus)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%B4%E5%87%BB%E5%8C%BA-C-Critical-Bracket"><span class="toc-text">暴击区 C (Critical Bracket)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E5%8C%BA-D-Defense"><span class="toc-text">防御区 D(Defense)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%97%E6%80%A7%E5%8C%BA-R-Resistance"><span class="toc-text">抗性区 R(Resistance)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-text">元素反应伤害的计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%A2%9E%E5%B9%85%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次增幅元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%BF%80%E5%8C%96%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次激化元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%89%A7%E5%8F%98%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次剧变元素反应伤害</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E4%BC%A4%E5%AE%B3-DPS-Damage-Per-Second"><span class="toc-text">单位时间伤害 DPS (Damage Per Second)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%8C%BA%E6%A6%82%E8%BF%B0-Time"><span class="toc-text">时间区概述 (Time)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E4%BC%A4%E5%8C%BA%E4%B8%8E%E7%9B%BE%E5%80%BC%E5%8C%BA"><span class="toc-text">减伤区与盾值区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BC%A4%E5%AE%B3%E7%B1%BB%E5%9E%8B"><span class="toc-text">其他伤害类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93"><span class="toc-text">最后总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
</div>

            </main>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%94%BB%E5%87%BB%E4%BC%A4%E5%AE%B3%E5%8F%8A%E4%B9%98%E5%8C%BA"><span class="toc-text">单次攻击伤害及乘区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E4%BC%A4%E5%AE%B3%E5%90%84%E4%B9%98%E5%8C%BA%E6%A6%82%E8%BF%B0"><span class="toc-text">单次伤害各乘区概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E5%8C%BA-A-Attack"><span class="toc-text">攻击区 A (Attack)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%8D%E7%8E%87%E5%8C%BA-M-Damage-Multipiler"><span class="toc-text">倍率区 M (Damage Multipiler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-amp-%E5%80%8D%E7%8E%87%E5%8C%BA-x2F-%E5%9F%BA%E7%A1%80%E4%BC%A4%E5%AE%B3%E5%8C%BA-%E5%8F%AF%E8%B7%B3%E8%BF%87"><span class="toc-text">基础&amp;倍率区&#x2F;基础伤害区(*可跳过)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E4%BC%A4%E5%8C%BA-B-Damage-Bonus"><span class="toc-text">增伤区 B (Damage Bonus)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%B4%E5%87%BB%E5%8C%BA-C-Critical-Bracket"><span class="toc-text">暴击区 C (Critical Bracket)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E5%BE%A1%E5%8C%BA-D-Defense"><span class="toc-text">防御区 D(Defense)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%97%E6%80%A7%E5%8C%BA-R-Resistance"><span class="toc-text">抗性区 R(Resistance)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-text">元素反应伤害的计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%A2%9E%E5%B9%85%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次增幅元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E6%BF%80%E5%8C%96%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次激化元素反应伤害</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%AC%A1%E5%89%A7%E5%8F%98%E5%85%83%E7%B4%A0%E5%8F%8D%E5%BA%94%E4%BC%A4%E5%AE%B3"><span class="toc-text">单次剧变元素反应伤害</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E4%BC%A4%E5%AE%B3-DPS-Damage-Per-Second"><span class="toc-text">单位时间伤害 DPS (Damage Per Second)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%8C%BA%E6%A6%82%E8%BF%B0-Time"><span class="toc-text">时间区概述 (Time)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E4%BC%A4%E5%8C%BA%E4%B8%8E%E7%9B%BE%E5%80%BC%E5%8C%BA"><span class="toc-text">减伤区与盾值区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BC%A4%E5%AE%B3%E7%B1%BB%E5%9E%8B"><span class="toc-text">其他伤害类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93"><span class="toc-text">最后总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-11-06</div>
        <a href="/2022/11/06/22101701/"><div class="recent-posts-item-content">关于玩原神需要掌握的学科</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-11-06</div>
        <a href="/2022/11/06/22110601/"><div class="recent-posts-item-content">针对于学生的学习路线</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-11-06</div>
        <a href="/2022/11/06/22110602/"><div class="recent-posts-item-content">针对于前端的职业发展规划</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-10-30</div>
        <a href="/2022/10/30/22103001/"><div class="recent-posts-item-content">弹性盒子上下布局</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
  <article class="card card-content">
    <h1 style="padding-bottom: 12px;">关注嘉然！顿顿解馋！</h1>
    <img src="https://api2.mubu.com/v3/document_image/2697c6ae-10ee-41a3-9099-304bdb252d31-3807603.jpg">
  </article>
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020
          
          
                - 
                2022
          
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          霜序廿的个人网站
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
</footer>
 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
    
    <script src="//instant.page/5.1.0" type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
    
    
  </body>
</html>
