<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="记录个人成长与生活，前端，算法，nlp">
  <link 
    rel="icon" 
    href="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&amp;spec=5">
  <title>JavaScript与ES的25个知识点</title>
  
    
      <meta 
        property="og:title" 
        content="JavaScript与ES的25个知识点">
    
    
      <meta 
        property="og:url" 
        content="http://example.com/2022/09/30/25ThingsAboutJavaScriptAndES/index.html">
    
    
      <meta 
        property="og:img" 
        content="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&amp;spec=5">
    
    
      <meta 
        property="og:img" 
        content="如题目~">
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2022-09-30">
      <meta 
        property="og:article:modified_time" 
        content="2022-09-30">
      <meta 
        property="og:article:author" 
        content="霜序廿">
      
        
          <meta 
            property="og:article:tag" 
            content="js">
        
      
    
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  <link rel="preload" href="/css/main.css" as="style" >
  
  <link rel="modulepreload" href="//instant.page/5.1.0">
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
  
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <a class="navbar-logo-main" href="/">
      
        <img 
          class="navbar-logo-img"
          width="32"
          height="32"
          src="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&spec=5" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">霜序廿的个人网站</span>
      </a>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
    <button 
      class="navbar-menu-item darknavbar navbar-menu-btn" 
      aria-label="Toggle dark mode"
      id="dark">
      <i class="iconfont icon-weather"></i>
    </button>
    <button 
      class="navbar-menu-item searchnavbar navbar-menu-btn" 
      aria-label="Toggle search"
      id="search">
      <!-- <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
        class="iconify iconify--ion" width="28" height="28" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80Z"></path>
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M232 160a72 72 0 1 0 72 72a72 72 0 0 0-72-72Z"></path>
        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28"
          d="M283.64 283.64L336 336"></path>
      </svg>
    </button>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="https://q2.qlogo.cn/headimg_dl?dst_uin=2749909223&spec=5" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">霜序廿</p>
<p class="author-description">一个爱算法的小前端</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>306</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>7</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>62</span>
    <span>标签</span>
  </a>
</div>

  <div class="author-card-society">
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://github.com/shuangxunian">
          <i class="iconfont icon-github society-icon"></i>
        </a>
      </div>
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://space.bilibili.com/391117803">
          <i class="iconfont icon-bilibili society-icon"></i>
        </a>
      </div>
    
  </div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-text">严格模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">Class基础语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7Setter%E5%92%8CGetter"><span class="toc-text">类的属性Setter和Getter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%A7%E6%89%BF%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="toc-text">如何继承一个类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8BClass"><span class="toc-text">面向对象编程Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">函数参数的默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es6%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">es6箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9%EF%BC%88%E2%80%A6%EF%BC%89"><span class="toc-text">JavaScript中的三个点（…）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-Property"><span class="toc-text">Object Property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Set数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Map数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-assign-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%B7%E8%B4%9D"><span class="toc-text">Object.assign(对象的拷贝)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D-Object-assign-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">浅拷贝 Object.assign 的实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%87%E5%AD%97"><span class="toc-text">模板文字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-text">什么是解构赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-text">异步操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E4%BB%A3%E7%90%86"><span class="toc-text">ES6代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Generator"><span class="toc-text">Generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#module"><span class="toc-text">module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import-export"><span class="toc-text">import, export</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-includes-Promise"><span class="toc-text">Array.prototype.includes,Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6"><span class="toc-text">JS异步进阶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-text">宏任务和微任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-await-of-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E9%9B%86%E5%90%88"><span class="toc-text">For await of 异步操作集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-flat"><span class="toc-text">Array.prototype.flat()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
      <a href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">
        <div class="categories-list-item">
          技术文章
          <span class="categories-list-item-badge">269</span>
        </div>
      </a>
    
      <a href="/categories/%E6%97%85%E6%B8%B8/">
        <div class="categories-list-item">
          旅游
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/%E5%85%B6%E4%BB%96/">
        <div class="categories-list-item">
          其他
          <span class="categories-list-item-badge">11</span>
        </div>
      </a>
    
      <a href="/categories/%E6%B8%B8%E6%88%8F/">
        <div class="categories-list-item">
          游戏
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/%E7%AE%97%E6%B3%95/">
        <div class="categories-list-item">
          算法
          <span class="categories-list-item-badge">7</span>
        </div>
      </a>
    
      <a href="/categories/%E8%80%83%E8%AF%95/">
        <div class="categories-list-item">
          考试
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/%E9%98%85%E8%AF%BB/">
        <div class="categories-list-item">
          阅读
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/js/" 
        title="js">
        <div class="tags-list-item">js</div>
      </a>
    
      <a 
        href="/tags/vue/" 
        title="vue">
        <div class="tags-list-item">vue</div>
      </a>
    
      <a 
        href="/tags/css/" 
        title="css">
        <div class="tags-list-item">css</div>
      </a>
    
      <a 
        href="/tags/%E9%9D%A2%E8%AF%95/" 
        title="面试">
        <div class="tags-list-item">面试</div>
      </a>
    
      <a 
        href="/tags/html/" 
        title="html">
        <div class="tags-list-item">html</div>
      </a>
    
      <a 
        href="/tags/%E5%89%8D%E7%AB%AF%E7%B3%BB%E5%88%97%E8%AF%BE%E7%A8%8B%E6%96%87%E7%AB%A0/" 
        title="前端系列课程文章">
        <div class="tags-list-item">前端系列课程文章</div>
      </a>
    
      <a 
        href="/tags/%E7%BD%91%E7%BB%9C/" 
        title="网络">
        <div class="tags-list-item">网络</div>
      </a>
    
      <a 
        href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" 
        title="浏览器">
        <div class="tags-list-item">浏览器</div>
      </a>
    
      <a 
        href="/tags/%E5%85%B6%E4%BB%96/" 
        title="其他">
        <div class="tags-list-item">其他</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95/" 
        title="算法">
        <div class="tags-list-item">算法</div>
      </a>
    
      <a 
        href="/tags/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86/" 
        title="网络原理">
        <div class="tags-list-item">网络原理</div>
      </a>
    
      <a 
        href="/tags/%E8%BD%AF%E5%AE%9E%E5%8A%9B/" 
        title="软实力">
        <div class="tags-list-item">软实力</div>
      </a>
    
      <a 
        href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" 
        title="面试题">
        <div class="tags-list-item">面试题</div>
      </a>
    
      <a 
        href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" 
        title="操作系统">
        <div class="tags-list-item">操作系统</div>
      </a>
    
      <a 
        href="/tags/%E8%80%83%E8%AF%95/" 
        title="考试">
        <div class="tags-list-item">考试</div>
      </a>
    
      <a 
        href="/tags/%E5%8E%9F%E7%A5%9E/" 
        title="原神">
        <div class="tags-list-item">原神</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <main class="main-column">
              
<article class="card card-content">
  <header>
    <h1 class="post-title">
      JavaScript与ES的25个知识点
    </h1>
  </header>
  
    <div class="post-meta post-show-meta">
      <a href="https://github.com/shuangxunian/shuangxunian.github.io/edit/server/source/_posts/25ThingsAboutJavaScriptAndES.md" target="_blank">编辑原文</a>
    </div>
  
  <div class="post-meta post-show-meta">
    <time datetime="2022-09-30T00:00:00.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2022-09-30</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" 
          class="post-meta-link">
          技术文章
        </a>
      
    
    
      <span class="dot"></span>
      <span>7.8k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/js/" 
            class="post-meta-link">
            js
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h2 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h2><ul>
<li>使用严格模式，可以在函数内部进行较为严格的全局和局部的错误条件检查</li>
<li>严格模式的编译指示，“use strict”</li>
<li>创建全局变量，未声明变量，非严格模式下为创建全局变量；严格模式下为抛出ReferenceError</li>
<li>对变量调用delete操作符，删除变量，非严格模式下为静默失败；严格模式下为抛出ReferenceError</li>
<li>操作对象情况下：a，只读属性赋值会抛出TypeError；b，对不可配置的属性使用delete操作符会抛出TypeError；c，为不可扩展的对象添加属性会抛出TypeError。</li>
<li>重名属性情况：a，非严格模式下没有错误，以第二个属性为准；b，严格模式下会抛出语法错误。</li>
<li>函数参数必须唯一，重名参数，在非严格模式下没有错误，只能访问第二个参数；严格模式下，会抛出错误。<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">funValue</span>(<span class="hljs-params">value</span>) &#123;<br>    value=<span class="hljs-string">&quot;dada&quot;</span>;<br>    <span class="hljs-title function_">alert</span>(value); <span class="hljs-comment">// dada</span><br>    <span class="hljs-title function_">alert</span>(argument[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 非严格模式：dada</span><br>    <span class="hljs-comment">// 严格模式模式 dadaqianduan</span><br>&#125;<br><br><span class="hljs-title function_">funValue</span>(<span class="hljs-string">&#x27;dadaqianduan&#x27;</span>);<br></code></pre></li>
<li>访问arguments.callee和arguments.caller，在非严格模式下没有问题，严格模式下抛出TypeError。</li>
</ul>
<h2 id="Class基础语法"><a href="#Class基础语法" class="headerlink" title="Class基础语法"></a>Class基础语法</h2><p>在JavaScript当中如何声明一个类？如何定义类中的方法？如何实例化对象？<br>我们来看看下面的代码示例：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// es5</span><br><br><span class="hljs-keyword">let</span> dada = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br>	<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>&#125;<br><br>dada.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;魔王哪吒&#x27;</span>);<br>&#125;<br><br><span class="hljs-keyword">let</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">dada</span>(<span class="hljs-string">&#x27;程序员&#x27;</span>)<br><span class="hljs-keyword">let</span> da2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">dada</span>(<span class="hljs-string">&#x27;It&#x27;</span>)<br><br>da1.<span class="hljs-property">constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;dadaqianduan&#x27;</span>);<br>&#125;<br>da1.<span class="hljs-title function_">study</span>()<br></code></pre>
<blockquote>
<p>JavaScript constructor 属性<br>定义和用法<br>constructor 属性返回对创建此对象的数组函数的引用。<br>语法<br>object.constructor<br>constructor 是一种用于创建和初始化class创建的对象的特殊方法。</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// es6</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123; <span class="hljs-comment">// 构造函数内写属性</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>  &#125;<br>  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 构造函数外写方法</span><br>  	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da1&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1.<span class="hljs-property">name</span>); <span class="hljs-comment">// da1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1);<br></code></pre>
<ol>
<li>一个类中只能有一个名为“constructor”的方法，出现多次构造函数constructor方法会抛出一个SyntaxError错误</li>
<li>在一个构造方法中可以使用super来调用一个父类的构造方法</li>
<li>如果没有指定一个构造函数方法constructor方法，就会使用一个默认的构造函数</li>
</ol>
<h2 id="类的属性Setter和Getter"><a href="#类的属性Setter和Getter" class="headerlink" title="类的属性Setter和Getter"></a>类的属性Setter和Getter</h2><p>这里只是简单介绍，详细请移步<a target="_blank" rel="noopener" href="https://shuangxunian.gitee.io/2020/10/17/aboutGetAndSetMethodsInJS/">关于js中的get、set方法</a></p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> daObj = &#123;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">val</span>() &#123;<br>  <span class="hljs-keyword">return</span> ;<br> &#125;,<br> <span class="hljs-keyword">set</span> <span class="hljs-title function_">val</span>(<span class="hljs-params">value</span>) &#123;<br> &#125;<br>&#125;<br></code></pre>
<p>get:</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> da = &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">val</span>()&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da.<span class="hljs-property">val</span>);<span class="hljs-comment">//2</span><br>da.<span class="hljs-property">val</span> = <span class="hljs-number">100</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da.<span class="hljs-property">val</span>);<span class="hljs-comment">//2</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> &#125;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">age</span>() &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br> &#125;<br> <span class="hljs-keyword">set</span> <span class="hljs-title function_">age</span>(<span class="hljs-params">val</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">realAge</span> = val<br> &#125;<br> <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i am eat&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-keyword">let</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da1&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1.<span class="hljs-property">age</span>)<br>da1.<span class="hljs-property">age</span> = <span class="hljs-number">1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1.<span class="hljs-property">realAge</span>)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type, age</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age1</span> = age<br> &#125;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">age</span>() &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_age</span><br> &#125;<br> <span class="hljs-keyword">set</span> <span class="hljs-title function_">age</span>(<span class="hljs-params">val</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">_age</span> = val<br> &#125;<br>&#125;<br></code></pre>
<p>利用set&#x2F;get实现对element.innerHTML封装</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">myHTMLElement</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">element</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span> = element<br> &#125;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">html</span>() &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">innerHTML</span><br> &#125;<br> <span class="hljs-keyword">set</span> <span class="hljs-title function_">html</span>(<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">innerHTML</span> = value<br> &#125;<br>&#125;<br></code></pre>
<p>设置一个闭包，通过一定的规则来限制对它的修改：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> myName = <span class="hljs-string">&#x27;dada&#x27;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> &#125;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">name</span>() &#123;<br>  <span class="hljs-keyword">return</span> myName<br> &#125;<br> <span class="hljs-keyword">set</span> <span class="hljs-title function_">name</span>(<span class="hljs-params">val</span>) &#123;<br>  myName = val<br> &#125;<br>&#125;<br></code></pre>

<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><p>这里只是简单介绍，详细请移步<a target="_blank" rel="noopener" href="https://shuangxunian.gitee.io/2020/10/17/staticPropertiesAndStaticMethods/">静态属性和静态方法</a><br>在es5中实现的静态方法：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">type</span>) &#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-title class_">Da</span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i book&#x27;</span>);<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>&#125;<br><span class="hljs-title class_">Da</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-title class_">Da</span>.<span class="hljs-title function_">walk</span>()<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i am&#x27;</span>)<br>&#125;<br><span class="hljs-title class_">Da</span>.<span class="hljs-property">walk</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;walk&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">let</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da1&#x27;</span>)<br>da1.<span class="hljs-title function_">eat</span>()<br><br><span class="hljs-comment">// walk</span><br><span class="hljs-comment">// i am</span><br></code></pre>
<p>静态方法在你的实例化对象是找不到的<br>在es6中的静态方法，标记static</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> &#125;<br> <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>)<br> &#125;<br> <span class="hljs-keyword">static</span> <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i study&#x27;</span>)<br> &#125;<br>&#125;<br></code></pre>

<h2 id="如何继承一个类"><a href="#如何继承一个类" class="headerlink" title="如何继承一个类"></a>如何继承一个类</h2><p>在es5中的继承：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 定义一个父类</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>&#125;<br><span class="hljs-comment">// 定义方法</span><br><span class="hljs-title class_">Da</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i am&#x27;</span>)<br>&#125;<br><span class="hljs-comment">// 定义静态方法</span><br><span class="hljs-title class_">Da</span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i study&#x27;</span>)<br>&#125;<br><span class="hljs-comment">// 定义子类</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da1</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-comment">// 初始化父类</span><br> <span class="hljs-title class_">Da</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">&#x27;da1&#x27;</span>);<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">run</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i run&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-comment">// 继承</span><br><span class="hljs-title class_">Da1</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Da</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre>
<p>在es6中的继承</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> &#125;<br> <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// Da.walk();</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>)<br> &#125;<br> <span class="hljs-keyword">static</span> <span class="hljs-title function_">walk</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i walk&#x27;</span>)<br> &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">da</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Da</span> &#123;<br> <span class="hljs-comment">// 构造函数</span><br> <span class="hljs-comment">//constructor (type) &#123;</span><br>  <span class="hljs-comment">//super(type)</span><br> <span class="hljs-comment">//&#125;</span><br> <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i run&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-keyword">let</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">da</span>(<span class="hljs-string">&#x27;da1&#x27;</span>)<br></code></pre>

<h2 id="面向对象编程Class"><a href="#面向对象编程Class" class="headerlink" title="面向对象编程Class"></a>面向对象编程Class</h2><p>类的声明，属性，方法，静态方法，继承，多态，私有属性</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 类的声明</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>);<br> &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> da = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da&#x27;</span>);<br><span class="hljs-comment">// prototype</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Da</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>&#125;<br><span class="hljs-title class_">Da</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i eat&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">let</span> da1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da1&#x27;</span>)<br></code></pre>
<p>es6中的Class</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-comment">// 构造函数</span><br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">type</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br> &#125;<br> <span class="hljs-comment">// 方法</span><br> <span class="hljs-title function_">walk</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;i walk&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-keyword">let</span> da = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Da</span>(<span class="hljs-string">&#x27;da&#x27;</span>);<br><span class="hljs-comment">// console.log(typeof Da); function</span><br></code></pre>

<h2 id="函数参数的默认值"><a href="#函数参数的默认值" class="headerlink" title="函数参数的默认值"></a>函数参数的默认值</h2><p>函数参数是从左到右解析，如果没有默认值会被解析成 undefined</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 参数默认值</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span> (x,y,z) &#123;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br> <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">forEach</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>)&#123;<br>  num += item * <span class="hljs-number">1</span><br> &#125;)<br> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">arguments</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>)&#123;<br>  num += item * <span class="hljs-number">1</span><br> &#125;)<br> <span class="hljs-keyword">return</span> num<br>&#125;<br><span class="hljs-comment">// 不确定</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...nums</span>) &#123;<br> <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br> nums.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>)&#123;<br>  num += item * <span class="hljs-number">1</span><br> &#125;)<br> <span class="hljs-keyword">return</span> num<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>))<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span> () &#123;<br>  <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br>  <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">forEach</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>    num += item * <span class="hljs-number">1</span><br>  &#125;)<br>  <span class="hljs-keyword">return</span> num<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span> (...nums) &#123;<br>  <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br>  nums.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>    num += item * <span class="hljs-number">1</span><br>  &#125;)<br>  <span class="hljs-keyword">return</span> num<br>&#125;<br></code></pre>

<h2 id="es6箭头函数"><a href="#es6箭头函数" class="headerlink" title="es6箭头函数"></a>es6箭头函数</h2><p>箭头函数表达式的语法比函数表达式更简洁，并且没有自己的this，arguments，super或new.target。箭头函数表达式更适用于那些本来需要匿名函数的地方，并且它不能用作构造函数。</p>
<pre class="highlight"><code class="hljs javascript">() =&gt; &#123;&#125;<br><span class="hljs-comment">// function Da() &#123;&#125;</span><br><span class="hljs-comment">// let da = function() &#123;&#125;</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">da</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)<br>&#125;<br><span class="hljs-title function_">da</span>()<br><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">da</span> = name =&gt; &#123;&#125;<br><span class="hljs-keyword">const</span> materials = [<br>  <span class="hljs-string">&#x27;Hydrogen&#x27;</span>,<br>  <span class="hljs-string">&#x27;Helium&#x27;</span>,<br>  <span class="hljs-string">&#x27;Lithium&#x27;</span>,<br>  <span class="hljs-string">&#x27;Beryllium&#x27;</span><br>];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(materials.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">material</span> =&gt;</span> material.<span class="hljs-property">length</span>));<br><span class="hljs-comment">// expected output: Array [8, 6, 7, 9]</span><br></code></pre>
<p><strong>拓展</strong><br>判断函数有几个参数</p>
<ol>
<li>在 ES5 中可以在函数体内使用 arguments 来判断。</li>
<li>在 ES6 中可以借助 Function.length 来判断。(统计第一个默认参数前面的变量数)<pre class="highlight"><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(...[<span class="hljs-number">4</span>]))<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-number">4</span>]))<br></code></pre></li>
</ol>
<h2 id="JavaScript中的三个点（…）"><a href="#JavaScript中的三个点（…）" class="headerlink" title="JavaScript中的三个点（…）"></a>JavaScript中的三个点（…）</h2><p>JavaScript当中，函数的参数前面有三个点，代表什么呢？我们看下代码示例：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunc</span>(<span class="hljs-params">a, b, ...args</span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// 22</span><br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b); <span class="hljs-comment">// 98</span><br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args); <span class="hljs-comment">// [43, 3, 26]</span><br>&#125;;<br><span class="hljs-title function_">myFunc</span>(<span class="hljs-number">22</span>, <span class="hljs-number">98</span>, <span class="hljs-number">43</span>, <span class="hljs-number">3</span>, <span class="hljs-number">26</span>);<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">myFunc</span>(<span class="hljs-params">x, y, ...params</span>) &#123; <span class="hljs-comment">// used rest operator here</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(y);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(params);<br>&#125;<br><br><span class="hljs-keyword">var</span> inputs = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;e&quot;</span>, <span class="hljs-string">&quot;f&quot;</span>];<br><span class="hljs-title function_">myFunc</span>(...inputs); <span class="hljs-comment">// used spread operator here</span><br><span class="hljs-comment">// &quot;a&quot;</span><br><span class="hljs-comment">// &quot;b&quot;</span><br><span class="hljs-comment">// [&quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span><br><span class="hljs-keyword">var</span> obj1 = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">42</span> &#125;;<br><span class="hljs-keyword">var</span> obj2 = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;baz&#x27;</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">13</span> &#125;;<br><br><span class="hljs-keyword">var</span> clonedObj = &#123; ...obj1 &#125;;<br><span class="hljs-comment">// Object &#123; foo: &quot;bar&quot;, x: 42 &#125;</span><br><br><span class="hljs-keyword">var</span> mergedObj = &#123; ...obj1, ...obj2 &#125;;<br><span class="hljs-comment">// Object &#123; foo: &quot;baz&quot;, x: 42, y: 13 &#125;</span><br></code></pre>

<h2 id="Object-Property"><a href="#Object-Property" class="headerlink" title="Object Property"></a>Object Property</h2><p>JS中对象的属性定义，代码示例如下：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-string">&#x27;da1&#x27;</span>;<br><span class="hljs-keyword">let</span> y = <span class="hljs-string">&#x27;da2&#x27;</span>;<br><span class="hljs-keyword">let</span> obj = &#123;<br> x,<br> y<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);<br><br><span class="hljs-comment">// 结果</span><br>&#123;<span class="hljs-attr">x</span>:<span class="hljs-string">&#x27;da1&#x27;</span>,<span class="hljs-attr">y</span>:<span class="hljs-string">&#x27;da2&#x27;</span>&#125;<br><span class="hljs-keyword">let</span> x=<span class="hljs-number">1</span>; <span class="hljs-keyword">let</span> y=<span class="hljs-number">2</span>; <span class="hljs-keyword">let</span> z=<span class="hljs-number">3</span><br><span class="hljs-keyword">let</span> obj = &#123;<br> <span class="hljs-string">&#x27;x&#x27;</span>: x,<br> y,<br> [z+y]: <span class="hljs-number">4</span>,<br> * <span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 异步</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;dada&#x27;</span>)<br> &#125;<br>&#125;<br><span class="hljs-comment">// function* functionName() &#123;&#125;</span><br>obj.<span class="hljs-title function_">hello</span>()<br></code></pre>

<h2 id="Set数据结构"><a href="#Set数据结构" class="headerlink" title="Set数据结构"></a>Set数据结构</h2><p>Set存储的成员不允许的重复的（它类似于数组）<br>Set 本身是一个构造函数，用来生成 Set 数据结构。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();<br>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> s.<span class="hljs-title function_">add</span>(x));<br><span class="hljs-comment">//Set 函数可以接受一个数组（或类似数组的对象）作为参数，用来初始化</span><br><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>]);<br></code></pre>
<p>实现数组去重</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>]; <span class="hljs-comment">// step1:数组转集合</span><br><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr); <span class="hljs-comment">// 已经去掉重复值，当前不是数组，而集合</span><br>s.<span class="hljs-property">size</span>; <span class="hljs-comment">// 3</span><br><span class="hljs-comment">// step2:集合转数组</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...s]); <span class="hljs-comment">// 1,2,3;</span><br><br><span class="hljs-comment">// Array.form 方法可以将 Set 结构转为数组</span><br><span class="hljs-keyword">const</span> items = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><span class="hljs-keyword">const</span> arr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(items);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">dada</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(array));<br>&#125;<br><br><span class="hljs-title function_">dada</span>([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])<br></code></pre>
<blockquote>
<p>Set的遍历</p>
</blockquote>
<ul>
<li>keys()：返回键名的遍历器</li>
<li>values()：返回键值的遍历器</li>
<li>entries()：返回键值对的遍历器</li>
<li>forEach()：使用回调函数遍历每个成员</li>
</ul>
<blockquote>
<p>操作方法</p>
</blockquote>
<ul>
<li>add(value)：添加某个值，返回Set结构本身。</li>
<li>delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。</li>
<li>has(value)：返回一个布尔值，表示该值是否为Set的成员。</li>
<li>clear()：清除所有成员，没有返回值。</li>
</ul>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>]);<br><br><span class="hljs-comment">// 添加数据 </span><br><span class="hljs-keyword">let</span> addSet = set.<span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(addSet); <span class="hljs-comment">// Set(5) &#123;1, 2, 3, 4, 5&#125;</span><br><br><span class="hljs-comment">// 删除数据 </span><br><span class="hljs-keyword">let</span> delSet = set.<span class="hljs-title function_">delete</span>(<span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(delSet); <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// 查看是否存在数据 4</span><br><span class="hljs-keyword">let</span> hasSet = set.<span class="hljs-title function_">has</span>(<span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hasSet); <span class="hljs-comment">// false</span><br><br><span class="hljs-comment">// 清除所有数据</span><br>set.<span class="hljs-title function_">clear</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set); <span class="hljs-comment">// Set(0) &#123;&#125;</span><br></code></pre>

<blockquote>
<p>实现并集（Union）、交集（Intersect）和差集（Difference）</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br><span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]);<br><br><span class="hljs-comment">// 并集</span><br><span class="hljs-keyword">let</span> union = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...a, ...b]);<br><span class="hljs-comment">// Set &#123;1, 2, 3, 4&#125;</span><br><br><span class="hljs-comment">// 交集</span><br><span class="hljs-keyword">let</span> intersect = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...a].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> b.<span class="hljs-title function_">has</span>(x)));<br><span class="hljs-comment">// set &#123;1, 2, 3&#125;</span><br><br><span class="hljs-comment">// 差集</span><br><span class="hljs-keyword">let</span> difference = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...b].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> !a.<span class="hljs-title function_">has</span>(x)));<br><span class="hljs-comment">// Set &#123;4&#125;</span><br></code></pre>

<h2 id="Map数据结构"><a href="#Map数据结构" class="headerlink" title="Map数据结构"></a>Map数据结构</h2><p>JS当中的哈希表，使用方法如下：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map)<br><br>创建<br><span class="hljs-keyword">var</span> da = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();<br><span class="hljs-keyword">var</span> jeskson = &#123;&#125;;<br>遍历<br>da.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value,key,map</span>)&#123;&#125;<br>长度<br>da.<span class="hljs-property">size</span><br>删除<br><span class="hljs-comment">//da.delete() 删除key，全部清楚da.clear()</span><br>新增<br>da.<span class="hljs-title function_">set</span>(key,value)<br>da.<span class="hljs-title function_">has</span>(查索引值)<br><br>da.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value,key</span>) =&gt;</span>&#123;<br>&#125;)<br><br><span class="hljs-keyword">for</span>( <span class="hljs-keyword">let</span> [key, value] <span class="hljs-keyword">of</span> map)&#123;&#125;<br><br><span class="hljs-comment">// let map = new Map( [[1,2], [3,4]] )</span><br><br>map的key任意都可以<br><span class="hljs-keyword">let</span> o = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;o&#x27;</span>)<br>&#125;<br>map.<span class="hljs-title function_">set</span>(o, <span class="hljs-number">3</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(o)); <span class="hljs-comment">// 3</span><br><span class="hljs-comment">// map.js</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Dictionary</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">var</span> items = &#123;&#125;;<br> <span class="hljs-comment">// 检查键</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">has</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) &#123;<br>  <span class="hljs-keyword">return</span> key <span class="hljs-keyword">in</span> items;<br> &#125;<br> <span class="hljs-comment">// 添加键值对</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">set</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>)&#123;<br>  items[key] = value;<br> &#125;<br> <span class="hljs-comment">// 通过键移除元素</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">delete</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) &#123;<br>  <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">has</span>(key))&#123;<br>   <span class="hljs-keyword">delete</span> items[key]<br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br> &#125;<br> <span class="hljs-comment">// 键获取值</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">get</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>)&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">has</span>(key) ? items[key] : <span class="hljs-literal">undefined</span>;<br> &#125;<br> <span class="hljs-comment">// 列表返回字典值</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> values = [];<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> items) &#123;<br>   <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">has</span>(k)) &#123;<br>    values.<span class="hljs-title function_">push</span>(items[k])<br>   &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> values;<br> &#125;<br> <span class="hljs-comment">// 获取全部键名</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">keys</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(items);<br> &#125;<br> <span class="hljs-comment">// 获取私有变量items</span><br> <span class="hljs-variable language_">this</span>.<span class="hljs-property">getItems</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> items;<br> &#125;<br>&#125;<br></code></pre>
<p>Map数据结构，它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</p>
<h2 id="Object-assign-对象的拷贝"><a href="#Object-assign-对象的拷贝" class="headerlink" title="Object.assign(对象的拷贝)"></a>Object.assign(对象的拷贝)</h2><p>Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> target = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-keyword">const</span> source = &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">5</span> &#125;;<br><br><span class="hljs-keyword">const</span> returnedTarget = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target);<br><span class="hljs-comment">// expected output: Object &#123; a: 1, b: 4, c: 5 &#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(returnedTarget);<br><span class="hljs-comment">// expected output: Object &#123; a: 1, b: 4, c: 5 &#125;</span><br><br>&gt; <span class="hljs-title class_">Object</span> &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">5</span> &#125;<br>&gt; <span class="hljs-title class_">Object</span> &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">5</span> &#125;<br></code></pre>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">//语法</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, ...sources)<br><br><span class="hljs-comment">//参数</span><br>target<br><br><span class="hljs-comment">//目标对象</span><br>sources<br><br><span class="hljs-comment">//源对象</span><br><span class="hljs-comment">//返回值</span><br><br><span class="hljs-comment">//目标对象。</span><br><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;;<br><span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, obj);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy); <span class="hljs-comment">// &#123; a: 1 &#125;</span><br></code></pre>

<ul>
<li>Object.assign()拷贝的是（可枚举）属性值</li>
<li>Object.assign方法的第一个参数是目标对象，后面的参数都是源对象</li>
<li>如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性</li>
<li>由于undefined和null无法转成对象，所以如果它们作为参数，就会报错</li>
<li>如果undefined和null不在首参数，就不会报错</li>
<li>如果源对象某个属性的值是对象，那么目标对象拷贝得到的是这个对象的引用(这个对象的任何变化，都会反映到目标对象上面。)</li>
</ul>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// 报错</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// 报错</span><br><br><span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(obj, <span class="hljs-literal">undefined</span>) === obj <span class="hljs-comment">// true</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(obj, <span class="hljs-literal">null</span>) === obj <span class="hljs-comment">// true</span><br><br><span class="hljs-keyword">const</span> obj1 = &#123;<span class="hljs-attr">a</span>: &#123;<span class="hljs-attr">b</span>: <span class="hljs-number">1</span>&#125;&#125;;<br><span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;, obj1);<br><br>obj1.<span class="hljs-property">a</span>.<span class="hljs-property">b</span> = <span class="hljs-number">2</span>;<br>obj2.<span class="hljs-property">a</span>.<span class="hljs-property">b</span> <span class="hljs-comment">// 2</span><br><br><span class="hljs-keyword">const</span> target = &#123; <span class="hljs-attr">a</span>: &#123; <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-attr">d</span>: <span class="hljs-string">&#x27;e&#x27;</span> &#125; &#125;<br><span class="hljs-keyword">const</span> source = &#123; <span class="hljs-attr">a</span>: &#123; <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;hello&#x27;</span> &#125; &#125;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source)<br><span class="hljs-comment">// &#123; a: &#123; b: &#x27;hello&#x27; &#125; &#125;</span><br><br><span class="hljs-keyword">const</span> source = &#123;<br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">foo</span>() &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> &#125;<br>&#125;;<br><span class="hljs-keyword">const</span> target = &#123;&#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source)<br><span class="hljs-comment">// &#123; foo: 1 &#125;</span><br></code></pre>
<blockquote>
<p>Object.assign复制的是属性值value，如果属性值是一个引用类型，那么复制的其实是引用地址，就会存在引用共享的问题（Object.assign(target,source1,…,sourceN）浅拷贝的过程）</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ObjectAssign</span>(<span class="hljs-params">target, ...sources</span>) &#123;<br> <span class="hljs-comment">// 对第一个参数的判断，不能为undefined和null</span><br> <span class="hljs-keyword">if</span>(target === <span class="hljs-literal">undefined</span> || target === <span class="hljs-literal">null</span>) &#123;<br>  <span class="hljs-keyword">throw</span> my <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&#x27;error&#x27;</span>);<br> &#125;<br> <span class="hljs-comment">// 将第一个参数转为对象(不是对象转换为对象)</span><br> <span class="hljs-keyword">const</span> targetObj = <span class="hljs-title class_">Object</span>(target);<br> <span class="hljs-comment">// 将源对象自身的所有可枚举属性复制到目标对象</span><br> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i&lt;sources.<span class="hljs-property">length</span>; i++)&#123;<br>  <span class="hljs-keyword">let</span> source = sources[i];<br>  <span class="hljs-comment">// 对于undefined和null在源中不会报错，会直接跳过</span><br>  <span class="hljs-keyword">if</span>(source !== <span class="hljs-literal">undefined</span> &amp;&amp; source !== <span class="hljs-literal">null</span>) &#123;<br>   <span class="hljs-comment">// 将源象转换成对象</span><br>   <span class="hljs-comment">// 需要将源自身的可枚举数据进行复制</span><br>   <span class="hljs-comment">// Reflect.ownKeys(obj)</span><br>   <span class="hljs-keyword">const</span> keysArray = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(<span class="hljs-title class_">Object</span>(source));<br>   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> nextIndex = <span class="hljs-number">0</span>; nextIndex &lt; keysArray.<span class="hljs-property">length</span>; nextIndex++) &#123;<br>    <span class="hljs-keyword">const</span> nextKey = keysArray[nextIndex];<br>    <span class="hljs-comment">// 去除不可枚举属性</span><br>    <span class="hljs-keyword">const</span> desc = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(source,nextKey);<br>    <span class="hljs-keyword">if</span>(desc!==<span class="hljs-literal">undefined</span>&amp;&amp;desc.<span class="hljs-property">enumerable</span>)&#123;<br>     targetObj[nextKey] = source[nextKey];<br>    &#125;<br>   &#125;<br>  &#125;<br> &#125;<br> <span class="hljs-keyword">return</span> targetObj;<br>&#125;<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property">myAssign</span> !== <span class="hljs-string">&#x27;function&#x27;</span>)&#123;<br> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">Object</span>, <span class="hljs-string">&#x27;myAssign&#x27;</span>, &#123;<br>  <span class="hljs-attr">value</span>: <span class="hljs-title class_">ObjectAssign</span>,<br>  <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,<br>  <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span><br> &#125;);<br>&#125;<br></code></pre>

<h2 id="浅拷贝-Object-assign-的实现原理"><a href="#浅拷贝-Object-assign-的实现原理" class="headerlink" title="浅拷贝 Object.assign 的实现原理"></a>浅拷贝 Object.assign 的实现原理</h2><p>拷贝第一层的基本类似值和第一层的引用类型地址：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> da1 = &#123;<br> <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;da1&#x27;</span>,<br> <span class="hljs-attr">age</span>: <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-keyword">let</span> da2 = &#123;<br> <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;da2&#x27;</span>,<br> <span class="hljs-attr">study</span>: &#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;web&#x27;</span><br> &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> da3 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(da1,da2);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da3);<br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// name: &#x27;da2&#x27;,</span><br><span class="hljs-comment">// age: 1,</span><br><span class="hljs-comment">// study: &#123; title: &#x27;web&#x27; &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>( da1 === da3); <span class="hljs-comment">// true</span><br><br>da2.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;da22&#x27;</span>;<br>da2.<span class="hljs-property">study</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;web2&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da2);<br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// name: &#x27;da22&#x27;,</span><br><span class="hljs-comment">// study: &#123; title: &#x27;web2&#x27; &#125;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1);<br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// age: 1,</span><br><span class="hljs-comment">// name: &#x27;da2&#x27;,</span><br><span class="hljs-comment">// study: &#123; title: &#x27;web2&#x27; &#125;</span><br><span class="hljs-comment">// &#125;</span><br></code></pre>
<p>如果源对象的属性值是一个指向对象的引用，它也只拷贝这个引用地址哦！</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> da1 = &#123;<br> <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;da1&#x27;</span>,<br> <span class="hljs-attr">age</span>: <span class="hljs-number">1</span><br>&#125;<br><span class="hljs-keyword">let</span> da2 = &#123;<br> <span class="hljs-attr">a</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;dadaqianduan&#x27;</span>),<br> <span class="hljs-attr">b</span>: <span class="hljs-literal">null</span>,<br> <span class="hljs-attr">c</span>: <span class="hljs-literal">undefined</span><br>&#125;<br><span class="hljs-keyword">let</span> da3 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(da1, da2);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da3);<br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">// name: &#x27;da1&#x27;,</span><br><span class="hljs-comment">// age: 1,</span><br><span class="hljs-comment">// a: Symbol(&#x27;dadaqianduan&#x27;),</span><br><span class="hljs-comment">// b: null,</span><br><span class="hljs-comment">// c: undefined</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1 === da3); <span class="hljs-comment">// true</span><br></code></pre>
<p>动态属性键</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// ES5 code</span><br><span class="hljs-keyword">var</span><br>  key1 = <span class="hljs-string">&#x27;one&#x27;</span>,<br>  obj = &#123;<br>    <span class="hljs-attr">two</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-attr">three</span>: <span class="hljs-number">3</span><br>  &#125;;<br><br>obj[key1] = <span class="hljs-number">1</span>;<br><br><span class="hljs-comment">// obj.one = 1, obj.two = 2, obj.three = 3</span><br><br><span class="hljs-comment">// ES6 code</span><br><span class="hljs-keyword">const</span><br>  key1 = <span class="hljs-string">&#x27;one&#x27;</span>,<br>  obj = &#123;<br>    [key1]: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">two</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-attr">three</span>: <span class="hljs-number">3</span><br>  &#125;;<br><br><span class="hljs-comment">// obj.one = 1, obj.two = 2, obj.three = 3</span><br><br><span class="hljs-comment">// ES6 code</span><br><span class="hljs-keyword">const</span><br>  i = <span class="hljs-number">1</span>,<br>  obj = &#123;<br>    [<span class="hljs-string">&#x27;i&#x27;</span> + i]: i<br>  &#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">i1</span>); <span class="hljs-comment">// 1</span><br></code></pre>

<h2 id="模板文字"><a href="#模板文字" class="headerlink" title="模板文字"></a>模板文字</h2><p>模板文字是es2015&#x2F;es6的新功能，与es5及以下版本相比，可以通过新颖的方式使用字符串，先只需要反引号代替单引号或双引号即可：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> module_string = <span class="hljs-string">`dadaqianduan`</span><br></code></pre>
<p>它们之所以独特是因为它们提供了很多用引号构建的普通字符串不具备的功能：</p>
<ol>
<li>提供了定义多行字符串的语法；</li>
<li>提供了一种简单的方法来插值字符串中的变量和表达式</li>
<li>允许您使用模板标签创建DSL（领域特定的语言）</li>
</ol>
<blockquote>
<p>使用多行字符串<br>在es6之前的版本：</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 要创建跨越两行的字符串，必须\在行尾使用字符</span><br><br><span class="hljs-keyword">const</span> dada = <br> <span class="hljs-string">&#x27;dada \</span><br><span class="hljs-string">  dadaqianduan&#x27;</span><br>  <br><span class="hljs-comment">// 呈现效果：在两行上创建一个字符串，但是仅在一行上呈现</span><br></code></pre>
<p>要在多行上呈现，则需要使用\n在每行的末尾添加</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> string = <br> <span class="hljs-string">&#x27;dada 魔王哪吒\n \</span><br><span class="hljs-string">  dadaqianduan&#x27;</span><br></code></pre>
<p>使用反引号打开模板文字后，只需要按enter键就行：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> dada = <span class="hljs-string">`dadaqianduan </span><br><span class="hljs-string">魔王哪吒`</span><br></code></pre>
<p>在这里请记住空间是有意义的：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> da = <span class="hljs-string">`First</span><br><span class="hljs-string">            Second`</span><br></code></pre>
<p>使用trim()方法，可以消除第一个字符之前的任何空格<br>插补：模板文字提供了一种将变量和表达式插入字符串的简便的方法</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> da = <span class="hljs-string">`dadaqianduan <span class="hljs-subst">$&#123;mydada&#125;</span>`</span><br><br>$&#123;&#125;里面可以添加任何东西<br><br><span class="hljs-keyword">const</span> da1 = <span class="hljs-string">`dada <span class="hljs-subst">$&#123;<span class="hljs-number">1</span>+<span class="hljs-number">2</span>+<span class="hljs-number">3</span>&#125;</span>`</span><br><span class="hljs-keyword">const</span> da2 = <span class="hljs-string">`dada <span class="hljs-subst">$&#123;dafun() ? <span class="hljs-string">&#x27;x&#x27;</span> : <span class="hljs-string">&#x27;y&#x27;</span>&#125;</span>`</span><br></code></pre>

<h2 id="什么是解构赋值"><a href="#什么是解构赋值" class="headerlink" title="什么是解构赋值"></a>什么是解构赋值</h2><pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> da = [<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;world&#x27;</span>]<br><span class="hljs-keyword">let</span> [firstName, surName] = da<br>cosole.<span class="hljs-title function_">log</span>(firstName, surName);<br></code></pre>
<p>解构赋值在于赋值，拷贝出来赋值给变量，而赋值的元素本身不会发生改变<br>默认值</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> [da1, da2] = [];<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1); <span class="hljs-comment">// undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da2); <span class="hljs-comment">// undefined</span><br></code></pre>
<p>给变量赋值（默认值），防止出现undefined的情况：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> [da1= <span class="hljs-string">&#x27;da1&#x27;</span>, da2 = <span class="hljs-string">&#x27;da2&#x27;</span>]=[<span class="hljs-string">&#x27;dadaqianduan]</span><br><span class="hljs-string"></span><br><span class="hljs-string">console.log(da1); // dadaqianduan</span><br><span class="hljs-string">console..log(da2); // da2</span><br></code></pre>
<p>解构分配<br>ES5中的索引提取这些值：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> myArray = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-keyword">var</span><br>  one   = myArray[<span class="hljs-number">0</span>],<br>  two   = myArray[<span class="hljs-number">1</span>],<br>  three = myArray[<span class="hljs-number">2</span>];<br><br><span class="hljs-comment">// one = &#x27;a&#x27;, two = &#x27;b&#x27;, three = &#x27;c&#x27;</span><br></code></pre>
<p>ES6解构允许使用更简单方法：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> [one, , three] = myArray;<br><br><span class="hljs-comment">// one = &#x27;a&#x27;, three = &#x27;c&#x27;</span><br></code></pre>
<p>使用rest运算符（…）提取剩余元素：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> [one, ...two] = myArray;<br><br><span class="hljs-comment">// one = &#x27;a&#x27;, two = [&#x27;b, &#x27;c&#x27;]</span><br><span class="hljs-keyword">const</span> myObject = &#123;<br>  <span class="hljs-attr">one</span>:   <span class="hljs-string">&#x27;a&#x27;</span>,<br>  <span class="hljs-attr">two</span>:   <span class="hljs-string">&#x27;b&#x27;</span>,<br>  <span class="hljs-attr">three</span>: <span class="hljs-string">&#x27;c&#x27;</span><br>&#125;;<br><br><span class="hljs-comment">// ES6 destructuring example</span><br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">one</span>: first, <span class="hljs-attr">two</span>: second, <span class="hljs-attr">three</span>: third&#125; = myObject;<br><br><span class="hljs-comment">// first = &#x27;a&#x27;, second = &#x27;b&#x27;, third = &#x27;c&#x27;</span><br></code></pre>
<p>可变值交换</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>;<br><br><span class="hljs-comment">// ES5 swap</span><br><span class="hljs-keyword">var</span> temp = a;<br>a = b;<br>b = temp;<br><br><span class="hljs-comment">// a = 2, b = 1</span><br><br><span class="hljs-comment">// ES6 swap back</span><br>[a, b] = [b, a];<br><br><span class="hljs-comment">// a = 1, b = 2</span><br><br>[b, c, d, e, a] = [a, b, c, d, e];<br></code></pre>
<p>在ES6中，我们可以为任何参数分配默认值<br>函数返回多个值（函数只能返回一个值，但可以是一个复杂的对象或多维数组）</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>&#125;<br><br><span class="hljs-keyword">const</span> [a, b, c] = <span class="hljs-title function_">f</span>();<br><br><span class="hljs-comment">// a = 1, b = 2, c = 3</span><br></code></pre>
<p>ES6 JavaScript深度解构<br>默认情况下，找不到的属性为undefined</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> &#123;da&#125; = &#123;<span class="hljs-attr">bar</span>: <span class="hljs-string">&#x27;dada&#x27;</span>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da)<br><span class="hljs-comment">// undefined</span><br></code></pre>
<p>如果访问不存在的父级的深层嵌套属性，则将获得异常。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> &#123;<span class="hljs-attr">da</span>:&#123;bar&#125;&#125; = &#123;<span class="hljs-attr">dada</span>: <span class="hljs-string">&#x27;dadaqianduan&#x27;</span>&#125;<br><span class="hljs-comment">// Exception</span><br><span class="hljs-keyword">var</span> key = <span class="hljs-string">&#x27;dadaqianduan&#x27;</span><br><span class="hljs-keyword">var</span> &#123; [key]: foo &#125; = &#123; <span class="hljs-attr">dadaqianduan</span>: <span class="hljs-string">&#x27;bar&#x27;</span> &#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo)<br><span class="hljs-comment">// &#x27;bar&#x27;</span><br><span class="hljs-keyword">var</span> &#123;da=<span class="hljs-number">3</span>&#125; = &#123; <span class="hljs-attr">da</span>: <span class="hljs-number">2</span> &#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da)<br><span class="hljs-comment">// 2</span><br><span class="hljs-keyword">var</span> &#123;da=<span class="hljs-number">3</span>&#125; = &#123; <span class="hljs-attr">da</span>: <span class="hljs-literal">undefined</span> &#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da)<br><span class="hljs-comment">// 3</span><br><span class="hljs-keyword">var</span> &#123;da=<span class="hljs-number">3</span>&#125; = &#123; <span class="hljs-attr">bar</span>: <span class="hljs-number">2</span> &#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da)<br><span class="hljs-comment">// 3</span><br><br><span class="hljs-keyword">var</span> [a] = []<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a)<br><span class="hljs-comment">//  undefined</span><br><span class="hljs-keyword">var</span> [b=<span class="hljs-number">10</span>] = [<span class="hljs-literal">undefined</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b)<br><span class="hljs-comment">//  10</span><br><span class="hljs-keyword">var</span> [c=<span class="hljs-number">10</span>] = []<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c)<br><span class="hljs-comment">//  10</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span> () &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">y</span>: <span class="hljs-number">2</span><br>  &#125;<br>&#125;<br><span class="hljs-keyword">var</span> &#123;x, y&#125; = <span class="hljs-title function_">da</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br><span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(y)<br><span class="hljs-comment">// 2</span><br></code></pre>

<h2 id="异步操作"><a href="#异步操作" class="headerlink" title="异步操作"></a>异步操作</h2><p>Callback<br>Promise</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadScript</span>(<span class="hljs-params">src</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)<br>  script.<span class="hljs-property">src</span> = src<br>  script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(src)<br>  script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(err)<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">append</span>(script)<br> &#125;)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadScript</span>(<span class="hljs-params">src</span>) &#123;<br> <span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);<br> script.<span class="hljs-property">src</span> = src;<br> <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">append</span>(script)<br>&#125;<br><span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>)&#123;<br> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;传递给then的值&#x27;</span>)<br>&#125;)<br>promise.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value)<br>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error)<br>&#125;)<br></code></pre>
<p>Promise对象是用于表示一个异步操作的最终完成（或失败），以及其结果值。<br>示例：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br> <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;da&#x27;</span>);<br> &#125;, <span class="hljs-number">200</span>);<br>&#125;);<br><br>promise.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(promise);<br></code></pre>
<p>语法：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve,reject</span>)&#123;...&#125;);<br></code></pre>
<p>描述：Promise对象是一个代理对象，被代理的值在Promise对象创建时可能是未知的，它允许你为异步操作的成功和失败分别绑定相应的处理方法，这让异步方法可以像同步方法那样返回值，但并不是立即返回最终执行结果，而是一个能代表未来出现的结果的promise对象。<br>一个Promise有以下几种状态：</p>
<ol>
<li>pending，初始状态，既不是成功，也不是失败状态。</li>
<li>fulfilled，意味着操作成功完成。</li>
<li>rejected，意味着操作失败。</li>
</ol>
<p>pending状态的Promise对象可能会变为fulfilled状态并传递一个值给相应的状态处理方法。<br>Promise.prototype.then和Promise.prototype.catch方法返回promise对象，所以它们可以被链式调用。</p>
<p>方法：<br>Promise.all(iterable)</p>
<ul>
<li>返回一个新的promise对象</li>
<li>在iterable参数对象里所有的promise对象都成功时，才会触发成功</li>
<li>当任何一个iterable里面的promise对象失败，才会触发promise对象的失败</li>
<li>成功状态会把一个包含iterable里所有promise返回值的数组作为成功回调的返回值，顺序和iterable的顺序一样</li>
<li>如果这个新的promise对象触发了失败，会把iterable里的第一个触发失败的promise对象的错误信息作为它的失败信息</li>
<li>场景，多用于处理多个promise对象的状态集合</li>
</ul>
<p>Promise.any(iterable)</p>
<ul>
<li>接收一个Promise对象的集合，当其中的一个promise成功，就返回那个成功的promise的值</li>
</ul>
<p>Promise.reject(reason)</p>
<ul>
<li>返回一个状态为失败的Promise对象，然后将失败信息传递给对应的处理方法</li>
</ul>
<p>Promise.resolve(value)</p>
<ul>
<li>返回一个状态由给定value决定的Promise对象</li>
</ul>
<blockquote>
<p>Promise原型<br>属性：</p>
</blockquote>
<ul>
<li>Promise.prototype.constructor返回被创建的实例函数，默认为Promise函数。</li>
</ul>
<p>方法：</p>
<ul>
<li>Promise.prototype.catch(onRejected)</li>
<li>Promise.prototype.then(onFulfilled,onRejected)</li>
<li>Promise.prototype.finally(onFinally)</li>
</ul>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myAsyncFunction</span>(<span class="hljs-params">url</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>  xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;GET&#x27;</span>,url);<br>  xhr.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(xhr.<span class="hljs-property">responseText</span>);<br>  xhr.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(xhr.<span class="hljs-property">statusText</span>);<br>  xhr.<span class="hljs-title function_">send</span>();<br> &#125;);<br>&#125;<br></code></pre>

<h2 id="ES6代理"><a href="#ES6代理" class="headerlink" title="ES6代理"></a>ES6代理</h2><p>默认情况下，代理不执行任何操作<br>示例：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> target = &#123;&#125;<br><span class="hljs-keyword">var</span> handler = &#123;&#125;<br><span class="hljs-keyword">var</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler)<br>proxy.<span class="hljs-property">a</span> = <span class="hljs-string">&#x27;b&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target.<span class="hljs-property">a</span>)<br><span class="hljs-comment">// &#x27;b&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy.<span class="hljs-property">c</span> === <span class="hljs-literal">undefined</span>)<br><span class="hljs-comment">// true</span><br></code></pre>
<p>为了更好地了解代理的有用性，让我们做一些小练习。<br>示例：<br>想象一下，您已经17岁了，即将满18岁。并且您希望您的程序在打开时自动向您祝贺。为此，您可以使用代理。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> person = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;dada&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">17</span><br>&#125;;<br><br>person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person, &#123;<br>  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (value === <span class="hljs-number">18</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Congratulations! You are of legal age&quot;</span>);<br>      <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value);<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>  &#125;<br>&#125;);<br><br>person.<span class="hljs-property">age</span> = <span class="hljs-number">18</span>;<br><br><span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">13</span> &amp;&amp; value &gt; <span class="hljs-number">99</span>) &#123;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;The age should be between 13 and 99&#x27;</span>)<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value)<br>&#125;<br></code></pre>
<p>语法：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler)<br></code></pre>

<ol>
<li>target 用Proxy包装的目标对象</li>
<li>handler 一个对象，其属性是当执行一个操作时定义代理的行为的函数</li>
</ol>
<p>如果不想再调用key的时候，返回undefined：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property">dada</span> || <span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre>
<p>使用Proxy</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> o = &#123;<br> name： <span class="hljs-string">&#x27;dada&#x27;</span>,<br> <span class="hljs-attr">age</span>: <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-keyword">let</span> handler = &#123;<br> <span class="hljs-title function_">get</span>(<span class="hljs-params">obj, key</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(obj, key)?obj[key]:<span class="hljs-string">&#x27;&#x27;</span><br> &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(o, handler)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">from</span>)<br></code></pre>
<p>希望从服务器获取的数据只读，不允许修改：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [key] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(response.<span class="hljs-property">data</span>)) &#123; <br> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(response.<span class="hljs-property">data</span>, key, &#123;<br>  <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span><br> &#125;)<br>&#125;<br></code></pre>
<p>使用Proxy:</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(response.<span class="hljs-property">data</span>, &#123;<br> <span class="hljs-title function_">set</span>(<span class="hljs-params">obj, key, value</span>) &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br> &#125;<br>&#125;)<br></code></pre>
<p>检验逻辑代码：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// Validator.js</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-title function_">default</span>(obj, key, vlaue) =&gt; &#123;<br> <span class="hljs-keyword">if</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(key) &amp;&amp; value &gt; <span class="hljs-number">20</span>) &#123;<br>  obj[key] = value<br> &#125;<br>&#125;<br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Validator</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Validator&#x27;</span><br><br><span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(response.<span class="hljs-property">data</span>, &#123;<br> <span class="hljs-attr">set</span>: <span class="hljs-title class_">Validator</span><br>&#125;)<br></code></pre>
<p>使用Proxy，对读写进行监控：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> validator = &#123;<br> <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value</span>) &#123;<br>  <span class="hljs-keyword">if</span>(key === <span class="hljs-string">&#x27;age&#x27;</span>) &#123;<br>   <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;number&#x27;</span> || <span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(value)) &#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&#x27;Age must be a number&#x27;</span>)<br>   &#125;<br>   <span class="hljs-keyword">if</span>(value&lt;=<span class="hljs-number">0</span>)&#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&#x27;Age must be a positive number&#x27;</span>)<br>   &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br> &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> person = &#123; <span class="hljs-attr">age</span>: <span class="hljs-number">12</span> &#125;<br><span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person,validator)<br>proxy.<span class="hljs-property">age</span> = <span class="hljs-string">&#x27;dada&#x27;</span> <span class="hljs-comment">// TypeError number</span><br>proxy.<span class="hljs-property">age</span> = <span class="hljs-title class_">NaN</span><br>proxy.<span class="hljs-property">age</span> = <span class="hljs-number">0</span> <span class="hljs-comment">// positive number</span><br>proxy.<span class="hljs-property">age</span> = <span class="hljs-number">3</span><br></code></pre>
<p>示例：每个对象都有一个自己的id</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Component</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">proxy</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(&#123;<br>   <span class="hljs-attr">id</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">slice</span>(-<span class="hljs-number">8</span>)<br>  &#125;)<br> &#125;<br> <span class="hljs-keyword">get</span> <span class="hljs-title function_">id</span>() &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">proxy</span>.<span class="hljs-property">id</span><br> &#125;<br>&#125;<br></code></pre>

<h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> * <span class="hljs-title function_">dada</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">2</span>; i++ &#123;<br>  <span class="hljs-keyword">yield</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br> &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> da = <span class="hljs-title function_">dada</span>()<br>da.<span class="hljs-title function_">next</span>()<br>da.<span class="hljs-title function_">next</span>()<br></code></pre>
<p>Generator函数与普通函数的区别在于定义的时候有一个*，执行下面函数：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">dada</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;dadaqianduan&#x27;</span>);<br>&#125;<br><span class="hljs-title function_">dada</span>(); <span class="hljs-comment">// 没有执行函数</span><br> <br>如需要输出，改为：<br><span class="hljs-keyword">var</span> da = <span class="hljs-title function_">dada</span>();<br>da.<span class="hljs-title function_">next</span>();<br></code></pre>
<p>要生成一个自增的id:</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> count_id = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">dada_id</span>(<span class="hljs-params"></span>) &#123;<br>    count_id ++;<br>    <span class="hljs-keyword">return</span> count_id;<br>&#125;<br></code></pre>
<p>方法</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">//返回一个由 yield表达式生成的值。</span><br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">next</span>()<br><br><span class="hljs-comment">//返回给定的值并结束生成器。</span><br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">return</span>()<br><br><span class="hljs-comment">//向生成器抛出一个错误。</span><br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">throw</span>()<br></code></pre>
<p>方法<br>Generator对象方法：next,return,throw<br>通过Next方法来获取每一次遍历的结果，这个方法返回一个对象，这个对象包含两个value和done。<br>value：当前程序的运行结果<br>done:遍历是否结束<br>next是可以接收参数的，这个参数可以让你在generator外部给内部传递数据，这个参数就是作为yield的返回值。<br>return()方法可以让generator遍历终止</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> * <span class="hljs-title function_">da</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br> <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span><br> <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">var</span> d = <span class="hljs-title function_">da</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-title function_">next</span>()) <span class="hljs-comment">// &#123;value:1,done:false&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-keyword">return</span>()) <span class="hljs-comment">// &#123;value:undefined,done:true&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-title function_">next</span>()) <span class="hljs-comment">// &#123;value:undefined,done:true&#125;</span><br></code></pre>
<p>return可以传入参数，作为返回的value的值</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> * <span class="hljs-title function_">da</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br> <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span><br> <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">var</span> d = <span class="hljs-title function_">da</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-title function_">nex</span>()) <span class="hljs-comment">// &#123;value:1,done:false&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-keyword">return</span>(<span class="hljs-number">100</span>)) <span class="hljs-comment">// &#123;value:100,done:true&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d.<span class="hljs-title function_">next</span>()) <span class="hljs-comment">// &#123;value:undefined,done:true&#125;</span><br></code></pre>
<p>throw()方法在generator外部控制内部执行的“终断”<br>generator函数声明：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">genFunc</span>(<span class="hljs-params"></span>)&#123;...&#125;<br><span class="hljs-keyword">const</span> genObj = <span class="hljs-title function_">genFunc</span>();<br></code></pre>
<p>generator表达式：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> genFunc = <span class="hljs-keyword">function</span>* () &#123;...&#125;<br><span class="hljs-keyword">const</span> genObj = <span class="hljs-title function_">genFunc</span>();<br></code></pre>
<p>对象中定义：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> obj = &#123;<br> * <span class="hljs-title function_">generatorMethod</span>(<span class="hljs-params"></span>)&#123;<br>  ...<br> &#125;<br>&#125;<br><span class="hljs-keyword">const</span> genObj = obj.<span class="hljs-title function_">generatorMethod</span>();<br></code></pre>
<p>类定义（类声明或类表达式）:</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&#123;<br> * <span class="hljs-title function_">generatorMethod</span>(<span class="hljs-params"></span>)&#123;<br>  ...<br> &#125;<br>&#125;<br><span class="hljs-keyword">const</span> myInst = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();<br><span class="hljs-keyword">const</span> genObj = myInst.<span class="hljs-title function_">generatorMethod</span>();<br></code></pre>
<p>最简单的iterator遍历规范：</p>
<pre class="highlight"><code class="hljs javascript">authors[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-comment">// this</span><br> <span class="hljs-keyword">return</span> &#123;<br>  <span class="hljs-title function_">next</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-keyword">return</span>&#123;<br>    <span class="hljs-attr">done</span>:<span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">value</span>:<span class="hljs-number">1</span><br>   &#125;<br>  &#125;<br> &#125;<br>&#125;<br></code></pre>

<h2 id="module"><a href="#module" class="headerlink" title="module"></a>module</h2><p>在es6前，js文件之间的导入，导出是借助require.js,sea.js，如现在使用import,export,来实现原生javascript的导入，导出。<br>export：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">//导出变量或者常量</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> da = <span class="hljs-string">&#x27;dadaqianduan&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> da1 = <span class="hljs-string">&#x27;da1&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> da2 = <span class="hljs-string">&#x27;da1&#x27;</span><br><br><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;dada&#x27;</span><br><span class="hljs-keyword">let</span> name1 = <span class="hljs-string">&#x27;dada1&#x27;</span><br><span class="hljs-keyword">export</span> &#123;<br> name,<br> name1<br>&#125;<br><br><span class="hljs-comment">//导出函数</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span>(<span class="hljs-params">value</span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value)<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">da</span> = (<span class="hljs-params">value</span>) =&gt; &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;<br><br><span class="hljs-keyword">export</span> &#123;<br> da<br>&#125;<br><br><span class="hljs-comment">//导出Object</span><br><span class="hljs-title function_">export</span>(&#123;<br> <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;da1&#x27;</span>,<br> <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;dadaqianduan&#x27;</span><br>&#125;)<br><br><span class="hljs-keyword">let</span> da = &#123;<br> <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;name1&#x27;</span><br>&#125;<br><span class="hljs-keyword">export</span> &#123;<br> da<br>&#125;<br><br><span class="hljs-comment">//导出Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = <span class="hljs-number">1</span><br> &#125;<br>&#125;<br><span class="hljs-keyword">export</span> &#123;<br> <span class="hljs-title class_">Da</span><br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Da</span> &#123;<br> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = <span class="hljs-number">1</span><br> &#125;<br>&#125;<br><br><span class="hljs-comment">//修改导出名称</span><br><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;da1&#x27;</span><br><span class="hljs-keyword">export</span> &#123;<br> name <span class="hljs-keyword">as</span> cname<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> name<br></code></pre>
<p>import</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 直接导入</span><br><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;dada&#x27;</span><br><span class="hljs-keyword">let</span> name1 = <span class="hljs-string">&#x27;dada1&#x27;</span><br><span class="hljs-keyword">var</span> name2 = <span class="hljs-string">&#x27;dada2&#x27;</span><br><span class="hljs-keyword">export</span> &#123;<br> name <span class="hljs-keyword">as</span> cname<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> name2<br><br><span class="hljs-keyword">import</span> name2, &#123;name1, name&#125; <span class="hljs-keyword">from</span> A<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sqrt = <span class="hljs-title class_">Math</span>.<span class="hljs-property">sqrt</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">square</span>(<span class="hljs-params">x</span>) &#123;<br> <span class="hljs-keyword">return</span> x * x;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">dada</span>(<span class="hljs-params">x,y</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-title function_">sqrt</span>(<span class="hljs-title function_">square</span>(x) + <span class="hljs-title function_">square</span>(y));<br>&#125;<br><br><span class="hljs-keyword">import</span> &#123;square,da&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;da&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">square</span>(<span class="hljs-number">11</span>)); <span class="hljs-comment">// 121</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>();<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;...&#125;<br><span class="hljs-keyword">import</span> myFunc <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;myFunc&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span>&#123;...&#125;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyClass</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;MyClass&#x27;</span>;<br><span class="hljs-keyword">const</span> inst = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>();<br></code></pre>

<h2 id="import-export"><a href="#import-export" class="headerlink" title="import, export"></a>import, export</h2><pre class="highlight"><code class="hljs javascript"><span class="hljs-built_in">require</span><br>--lib.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x,y</span>)&#123;<br> <span class="hljs-keyword">return</span> x + y<br>&#125;<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br> <span class="hljs-attr">add</span>: add,<br>&#125;;<br><br>--main.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">var</span> add = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;lib&#x27;</span>).<span class="hljs-property">addd</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>));<br><span class="hljs-keyword">import</span><br>--lib.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x,y</span>) &#123;<br> <span class="hljs-keyword">return</span> x + y<br>&#125;<br>--main.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">import</span> &#123;add&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;lib&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>));<br>--lib.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sqrt = <span class="hljs-title class_">Math</span>.<span class="hljs-property">sqrt</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">square</span>(<span class="hljs-params">x</span>) &#123;<br> <span class="hljs-keyword">return</span> x * x;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span>(<span class="hljs-params">x,y</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-title function_">sqrt</span>(<span class="hljs-title function_">square</span>(x)+<span class="hljs-title function_">square</span>(y));<br>&#125;<br>--main.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">import</span> &#123;square, da&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;lib&#x27;</span><br><br><br>--myFunc.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;...&#125;;<br>--main.<span class="hljs-property">js</span>--<br><span class="hljs-keyword">import</span> myFunc <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;myFunc&#x27;</span>;<br><span class="hljs-title function_">myFunc</span>();<br></code></pre>

<h2 id="Array-prototype-includes-Promise"><a href="#Array-prototype-includes-Promise" class="headerlink" title="Array.prototype.includes,Promise"></a>Array.prototype.includes,Promise</h2><p>该方法判断一个数组是否包含一个指定的值，返回布尔值</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> da1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(da1.<span class="hljs-title function_">includes</span>(<span class="hljs-number">2</span>));<br>arr.<span class="hljs-title function_">find</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>)&#123;<br><span class="hljs-keyword">return</span> item === <span class="hljs-number">1</span>;<br>&#125;)<br><br>arr.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>)&#123;<br><span class="hljs-keyword">return</span> item === <span class="hljs-number">2</span>;<br>&#125;)<br><br><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)-&gt;<span class="hljs-number">2</span>**<span class="hljs-number">3</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">firstAsync</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-keyword">let</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span> (<span class="hljs-function">(<span class="hljs-params">resolve,reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;dadaqianduan&#x27;</span>)<br>  &#125;,<span class="hljs-number">1000</span>)<br> &#125;)<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> promise)<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>))<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<br> <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>)<br>&#125;<br><span class="hljs-title function_">firstAsync</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)<br>&#125;)<br></code></pre>
<blockquote>
<p>await后面是Promise对象<br>Object.values()返回一个数组，其元素是再对象上找到的可枚举属性值。</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">let</span> da = &#123;<br> <span class="hljs-string">&#x27;da&#x27;</span>: <span class="hljs-number">1</span>,<br> <span class="hljs-string">&#x27;da2&#x27;</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">value</span>(da)) <span class="hljs-comment">// [1,2]</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-property">values</span>是在对象上找到可枚举的属性的值，所以只要这个对象是可枚举的就可以<br></code></pre>
<p>Object.entries()方法返回一个给定对象自身可枚举属性的键值对数组</p>
<h2 id="JS异步进阶"><a href="#JS异步进阶" class="headerlink" title="JS异步进阶"></a>JS异步进阶</h2><p>题目一：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)<br>&#125;)<br></code></pre>
<p>题目二：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)<br> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;da&#x27;</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)<br>&#125;)<br></code></pre>
<p>题目三：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)<br> <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;da&#x27;</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">()=&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)<br>&#125;)<br></code></pre>
<p>题目四：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>&#125;<br>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">const</span> a = <span class="hljs-title function_">fn</span>() <span class="hljs-comment">// ??</span><br> <span class="hljs-keyword">const</span> b = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>() <span class="hljs-comment">// ??</span><br>&#125;)()<br></code></pre>
<p>题目五：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">100</span>)<br><span class="hljs-built_in">setTimeout</span>( <span class="hljs-function">() =&gt;</span> &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">200</span>)<br>&#125;)<br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>( <span class="hljs-function">()=&gt;</span> &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">300</span>)<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">400</span>)<br></code></pre>
<p>题目六：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async1</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async1 start&#x27;</span>)<br> <span class="hljs-keyword">await</span> <span class="hljs-title function_">async2</span>()<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async1 end&#x27;</span>)<br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async2</span> () &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async2&#x27;</span>)<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;script start&#x27;</span>)<br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;setTimeout&#x27;</span>)<br>&#125;,<span class="hljs-number">0</span>)<br><br><span class="hljs-title function_">async1</span>()<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;promise1&#x27;</span>)<br> <span class="hljs-title function_">resolve</span>()<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;promise2&#x27;</span>)<br>&#125;)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;script end&#x27;</span>)<br></code></pre>
<p>加载图片：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// 加载</span><br><span class="hljs-keyword">function</span>  <span class="hljs-title function_">loadImg</span>(<span class="hljs-params">src</span>) &#123;<br> <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<br>  <span class="hljs-function">(<span class="hljs-params">resolve,reject</span>) =&gt;</span> &#123;<br>   <span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;img&#x27;</span>)<br>   img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span>&#123;<br>    <span class="hljs-title function_">resolve</span>(img)<br>   &#125;<br>   img.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> err = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;图片加载失败&#x27;</span>)<br>    <span class="hljs-title function_">reject</span>(err)<br>   &#125;<br>   img.<span class="hljs-property">src</span> = src<br>  &#125;<br> )<br> <span class="hljs-keyword">return</span> p<br>&#125;<br><span class="hljs-keyword">const</span> url = <span class="hljs-string">&#x27;https&#x27;</span><br><span class="hljs-keyword">const</span> p = <span class="hljs-title function_">loadImg</span>(url)<br><br>p.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(img.<span class="hljs-property">width</span>)<br> <span class="hljs-keyword">return</span> img<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span>&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(img.<span class="hljs-property">height</span>)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">ex</span> =&gt;</span> &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(ex)<br>&#125;)<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async1</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async1 start&#x27;</span>) <span class="hljs-comment">// 2</span><br> <span class="hljs-keyword">await</span> <span class="hljs-title function_">async2</span>() <span class="hljs-comment">// undefined</span><br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async1 end&#x27;</span>) <span class="hljs-comment">// 5</span><br>&#125;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async2</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;async2&#x27;</span>) <span class="hljs-comment">// 3</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;script start&#x27;</span>) <span class="hljs-comment">// 1</span><br><span class="hljs-title function_">async1</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;script end&#x27;</span>) <span class="hljs-comment">// 4</span><br></code></pre>

<blockquote>
<p>for…of常用于异步的遍历</p>
</blockquote>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">num</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>   <span class="hljs-title function_">resolve</span>(num*num)<br>  &#125;,<span class="hljs-number">1000</span>)<br> &#125;)<br>&#125;<br><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>nums.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">async</span>(i)=&gt;&#123;<br> <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">add</span>(i)<br>&#125;)<br></code></pre>

<h2 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h2><p>宏任务：setTimeout,setInterval,ajax等<br>微任务：Promise async&#x2F;await</p>
<p>微任务执行时比宏任务要早:</p>
<p>宏任务：DOM渲染后触发，如setTimeout</p>
<p>微任务：DOM渲染前触发，如Promise</p>
<h2 id="For-await-of-异步操作集合"><a href="#For-await-of-异步操作集合" class="headerlink" title="For await of 异步操作集合"></a>For await of 异步操作集合</h2><pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span>(<span class="hljs-params">time</span>) &#123;<br> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)&#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-title function_">resolve</span>(time)<br>  &#125;,time)<br> &#125;)<br>&#125;<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br> <span class="hljs-keyword">let</span> arr = [<span class="hljs-title function_">da</span>(<span class="hljs-number">2000</span>),<span class="hljs-title function_">da</span>(<span class="hljs-number">1000</span>),<span class="hljs-title function_">da</span>(<span class="hljs-number">3000</span>)]<br> <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), item)<br> &#125;<br>&#125;<br><span class="hljs-keyword">const</span> input = &#123;<br> <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br> <span class="hljs-attr">b</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">const</span> output = &#123;<br> ...input,<br> <span class="hljs-attr">c</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output)<br><br><span class="hljs-keyword">const</span> input = &#123;<br> <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br> <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,<br> <span class="hljs-attr">c</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">let</span> &#123;a, ...rest &#125; = input<br></code></pre>

<h2 id="Array-prototype-flat"><a href="#Array-prototype-flat" class="headerlink" title="Array.prototype.flat()"></a>Array.prototype.flat()</h2><p>该方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合为一个新数组。<br>Array.prototype.flat()建议将数组递归展平至指定范围depth并返回新数组。<br>depth(指定要提取嵌套数组的结构深度）<br>语法：Array.prototype.flat(depth)<br>depth —默认值1，Infinity用于展平所有嵌套数组。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]];<br><br><span class="hljs-comment">// Considers default depth of 1</span><br>numbers.<span class="hljs-title function_">flat</span>(); <br><br>&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]<br><br><span class="hljs-comment">// With depth of 2</span><br>numbers.<span class="hljs-title function_">flat</span>(<span class="hljs-number">2</span>); <br><br>&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br><br><span class="hljs-comment">// Executes two flat operations</span><br>numbers.<span class="hljs-title function_">flat</span>().<span class="hljs-title function_">flat</span>(); <br><br>&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br><br><span class="hljs-comment">// Flattens recursively until the array contains no nested arrays</span><br><br>numbers.<span class="hljs-title function_">flat</span>(<span class="hljs-title class_">Infinity</span>)<br>&gt; [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br></code></pre>
<p>语法：Array.prototype.flatMap(callback)<br>callback：function产生新Array的元素。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><br>numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> [x * <span class="hljs-number">2</span>]);<br>&gt; [[<span class="hljs-number">2</span>], [<span class="hljs-number">4</span>], [<span class="hljs-number">6</span>]]<br><br>numbers.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> [x * <span class="hljs-number">2</span>]);<br>&gt; [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]<br></code></pre>
<p>Object.fromEntries<br>Object.fromEntries执行与的相反操作Object.entries。它将一组键值对转换为一个对象。</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> records = [[<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;da&#x27;</span>], [<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-number">32</span>]];<br><br><span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(records);<br><br>&gt; &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;da&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">32</span>&#125;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj);<br><br>&gt; [[<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;Mathew&#x27;</span>], [<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-number">32</span>]];<br></code></pre>
<p>Symbol.prototype.description<br>只读属性，返回Symbol对象的可选描述：</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;desc&#x27;</span>).<span class="hljs-title function_">toString</span>();<br>&gt; <span class="hljs-string">&quot;Symbol(desc)&quot;</span><br><br><span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;desc&#x27;</span>).<span class="hljs-property">description</span>;  <br>&gt; <span class="hljs-string">&quot;desc&quot;</span><br><br><span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-property">description</span>;      <br>&gt; <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-title class_">Symbol</span>().<span class="hljs-property">description</span>;<br>&gt; <span class="hljs-literal">undefined</span><br></code></pre>

<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/252391934">熬夜7天，我总结了JavaScript与ES的25个重要知识点！</a></p>

  </div>
  <div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2022/09/30/22093002/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">Nginx 入门指南 </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2022/09/30/3WaysCSSCanHideScrollbarsAndScrollContent/" 
        class="nav-link">
        <div>
          <div class="nav-label">下一篇</div>
          
            <div class="nav-title">3种方法实现CSS隐藏滚动条并可以滚动内容 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-text">严格模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">Class基础语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7Setter%E5%92%8CGetter"><span class="toc-text">类的属性Setter和Getter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%A7%E6%89%BF%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="toc-text">如何继承一个类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8BClass"><span class="toc-text">面向对象编程Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">函数参数的默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es6%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">es6箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9%EF%BC%88%E2%80%A6%EF%BC%89"><span class="toc-text">JavaScript中的三个点（…）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-Property"><span class="toc-text">Object Property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Set数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Map数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-assign-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%B7%E8%B4%9D"><span class="toc-text">Object.assign(对象的拷贝)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D-Object-assign-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">浅拷贝 Object.assign 的实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%87%E5%AD%97"><span class="toc-text">模板文字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-text">什么是解构赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-text">异步操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E4%BB%A3%E7%90%86"><span class="toc-text">ES6代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Generator"><span class="toc-text">Generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#module"><span class="toc-text">module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import-export"><span class="toc-text">import, export</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-includes-Promise"><span class="toc-text">Array.prototype.includes,Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6"><span class="toc-text">JS异步进阶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-text">宏任务和微任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-await-of-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E9%9B%86%E5%90%88"><span class="toc-text">For await of 异步操作集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-flat"><span class="toc-text">Array.prototype.flat()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
</div>

            </main>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-text">严格模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">Class基础语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7Setter%E5%92%8CGetter"><span class="toc-text">类的属性Setter和Getter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%A7%E6%89%BF%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="toc-text">如何继承一个类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8BClass"><span class="toc-text">面向对象编程Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">函数参数的默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es6%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">es6箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E7%82%B9%EF%BC%88%E2%80%A6%EF%BC%89"><span class="toc-text">JavaScript中的三个点（…）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-Property"><span class="toc-text">Object Property</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Set数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">Map数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-assign-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%B7%E8%B4%9D"><span class="toc-text">Object.assign(对象的拷贝)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D-Object-assign-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">浅拷贝 Object.assign 的实现原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%87%E5%AD%97"><span class="toc-text">模板文字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-text">什么是解构赋值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="toc-text">异步操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ES6%E4%BB%A3%E7%90%86"><span class="toc-text">ES6代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Generator"><span class="toc-text">Generator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#module"><span class="toc-text">module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import-export"><span class="toc-text">import, export</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-includes-Promise"><span class="toc-text">Array.prototype.includes,Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6"><span class="toc-text">JS异步进阶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-text">宏任务和微任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#For-await-of-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E9%9B%86%E5%90%88"><span class="toc-text">For await of 异步操作集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-prototype-flat"><span class="toc-text">Array.prototype.flat()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-03-31</div>
        <a href="/2023/03/31/23033100/"><div class="recent-posts-item-content"></div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-03-20</div>
        <a href="/2023/03/20/23032000/"><div class="recent-posts-item-content">对象</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-03-10</div>
        <a href="/2023/03/10/23031000/"><div class="recent-posts-item-content">BOM，DOM</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2023-02-24</div>
        <a href="/2023/02/24/23022401/"><div class="recent-posts-item-content">自己的哔哔赖赖</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
  <article class="card card-content">
    <h1 style="padding-bottom: 12px;">关注嘉然！顿顿解馋！</h1>
    <img src="https://api2.mubu.com/v3/document_image/2697c6ae-10ee-41a3-9099-304bdb252d31-3807603.jpg">
  </article>
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020
          
          
                - 
                2023
          
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          霜序廿的个人网站
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
</footer>
 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
    
    <script src="//instant.page/5.1.0" type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
    
    
  </body>
</html>
